/*
Copyright (c) 2015 NAVER Corp.
name: @egjs/agent
license: MIT
author: NAVER Corp.
repository: git+https://github.com/naver/agent.git
version: 2.4.0
*/
!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):((e="undefined"!=typeof globalThis?globalThis:e||self).eg=e.eg||{},e.eg.agent=i())}(this,function(){"use strict";function w(e,i){for(var n=e.length,r=0;r<n;++r)if(i(e[r],r))return!0;return!1}function f(e,i){for(var n=e.length,r=0;r<n;++r)if(i(e[r],r))return e[r];return null}function t(e,i){try{return new RegExp(e,"g").exec(i)}catch(e){return null}}function i(){if("undefined"==typeof navigator||!navigator||!navigator.userAgentData)return!1;var e=navigator.userAgentData,i=e.brands||e.uaList;return!(!i||!i.length)}function c(e){return e.replace(/_/g,".")}function b(e,n){var r=null,o="-1";return w(e,function(e){var i=t("("+e.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",n);return!(!i||e.brand)&&(r=e,o=i[3]||"-1",e.versionAlias?o=e.versionAlias:e.versionTest&&(o=function(e,i){var n=t("("+e+")((?:\\/|\\s|:)([0-9|\\.|_]+))",i);return n?n[3]:""}(e.versionTest.toLowerCase(),n)||o),o=c(o),!0)}),{preset:r,version:o}}function l(e,n){var r={brand:"",version:"-1"};return w(e,function(e){var i=p(n,e);return!!i&&(r.brand=e.id,r.version=e.versionAlias||i.version,"-1"!==r.version)}),r}function p(e,n){return f(e,function(e){var i=e.brand;return t(""+n.test,i.toLowerCase())})}var g=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],h=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],V=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],k=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],A=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function r(e){var i=navigator.userAgentData,n=(i.uaList||i.brands).slice(),r=i.mobile||!1,o=n[0],t=(e&&e.platform||i.platform||navigator.platform).toLowerCase(),s={name:o.brand,version:o.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!l(k,n).brand},a={name:"unknown",version:"-1",majorVersion:-1};s.webkit=!s.chromium&&w(V,function(e){return p(n,e)});var u=l(h,n);if(s.chromium=!!u.brand,s.chromiumVersion=u.version,!s.chromium){var d=l(V,n);s.webkit=!!d.brand,s.webkitVersion=d.version}var v=f(A,function(e){return new RegExp(""+e.test,"g").exec(t)});a.name=v?v.id:"",e&&(a.version=e.platformVersion);var m=l(g,n);return m.brand&&(s.name=m.brand,s.version=e?e.uaFullVersion:m.version),s.webkit&&(a.name=r?"ios":"mac"),"ios"===a.name&&s.webview&&(s.version="-1"),a.version=c(a.version),s.version=c(s.version),a.majorVersion=parseInt(a.version,10),s.majorVersion=parseInt(s.version,10),{browser:s,os:a,isMobile:r,isHints:!0}}function n(e){var i=function(e){var i=e;if(void 0===i){if("undefined"==typeof navigator||!navigator)return"";i=navigator.userAgent||""}return i.toLowerCase()}(e),n=!!/mobi/g.exec(i),r={name:"unknown",version:"-1",majorVersion:-1,webview:!!b(k,i).preset,chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},o={name:"unknown",version:"-1",majorVersion:-1},t=b(g,i),s=t.preset,a=t.version,u=b(A,i),d=u.preset,v=u.version,m=b(h,i);if(r.chromium=!!m.preset,r.chromiumVersion=m.version,!r.chromium){var w=b(V,i);r.webkit=!!w.preset,r.webkitVersion=w.version}return d&&(o.name=d.id,o.version=v,o.majorVersion=parseInt(v,10)),s&&(r.name=s.id,r.version=a,r.webview&&"ios"===o.name&&"safari"!==r.name&&(r.webview=!1)),r.majorVersion=parseInt(r.version,10),{browser:r,os:o,isMobile:n,isHints:!1}}function e(e){return void 0===e&&i()?r():n(e)}var o={__proto__:null,getAccurateAgent:function(n){return i()?navigator.userAgentData.getHighEntropyValues(["architecture","model","platform","platformVersion","uaFullVersion"]).then(function(e){var i=r(e);return n&&n(i),i}):(n&&n(e()),"undefined"!=typeof Promise&&Promise?Promise.resolve(e()):null)},getLegacyAgent:n,default:e};for(var s in o)e[s]=o[s];return e});
//# sourceMappingURL=agent.min.js.map
