/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import{progress as o,lerp as r,clamp as e}from"@googleforcreators/units";import{SCALE_DIRECTION as t,BG_MIN_SCALE as i,BG_MAX_SCALE as n}from"../../constants.js";import{AnimationZoom as m}from"../../parts/zoom/index.js";import{getMediaBoundOffsets as s}from"../../utils/mediaPositions.js";import{getMediaOrigin as a}from"../../utils/getMediaOrigin.js";function EffectBackgroundZoom(f){let{element:c,zoomDirection:g=t.SCALE_OUT,duration:l=2e3,delay:u,easing:d="cubic-bezier(.3,0,.55,1)",transformOrigin:M}=f;const p={MIN:i/c.scale,MAX:n/c.scale},A=o(50,{MIN:0,MAX:n}),z=r(A,{MIN:0,MAX:p.MAX}),E=1+(g===t.SCALE_OUT?1:-1)*z;return m({zoomFrom:e(E,p),zoomTo:1,duration:l,delay:u,easing:d,targetLeafElement:!0,transformOrigin:M||a(c&&s({element:c}))})}export{EffectBackgroundZoom};
