/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import{getBox as t,dataToEditorY as e,DANGER_ZONE_HEIGHT as a,PAGE_WIDTH as i,FULLBLEED_HEIGHT as n}from"@googleforcreators/units";import{DIRECTION as r,ANIMATION_EFFECTS as o}from"../../constants.js";import s from"../../parts/simpleAnimation.js";function EffectPan(c){let{panDir:f=r.RIGHT_TO_LEFT,duration:l=1e3,delay:m,easing:T,element:h}=c;const A={fill:"both",duration:l,delay:m,easing:T},d=function(t){let{width:e,height:a}=t;if(e<i||a<n){const t=1.25,r=e<i?i/e:1,o=a<n?n/a:1;return Math.max(r,o)*t}return 1}(h),g={x:h.x,y:h.y,width:h.width*d,height:h.height*d},{x:P,y:O,width:u,height:$}=t(g,100,100),p=e(a,100),_=-(p+O)/$*100,M=(100-(P+u))/u*100,y=-P/u*100,w=(100-(O+$)+p)/$*100;let x,b,E,I;switch(f){case r.TOP_TO_BOTTOM:x=(y+M)/2,b=_,E=(y+M)/2,I=w;break;case r.BOTTOM_TO_TOP:x=(y+M)/2,b=w,E=(y+M)/2,I=_;break;case r.LEFT_TO_RIGHT:x=y,b=_,E=M,I=_;break;default:x=M,b=_,E=y,I=_}const k=`direction-${f}-scale-${d}-${o.PAN}`,j={transform:[`translate(${x}%, ${b}%) scale(${d})`,`translate(${E}%, ${I}%) scale(${d})`],"transform-origin":"left top"},{id:B,WAAPIAnimation:F,AMPTarget:G,AMPAnimation:H}=s(k,j,A,!1);return{id:B,WAAPIAnimation:F,AMPTarget:G,AMPAnimation:H,generatedKeyframes:{[k]:j}}}export{EffectPan};
