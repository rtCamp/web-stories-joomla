/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@googleforcreators/units"),r=require("../../constants.js"),o=require("../../parts/zoom/index.js"),i=require("../../utils/mediaPositions.js"),t=require("../../utils/getMediaOrigin.js");exports.EffectBackgroundZoom=function EffectBackgroundZoom(n){let{element:s,zoomDirection:a=r.SCALE_DIRECTION.SCALE_OUT,duration:u=2e3,delay:c,easing:m="cubic-bezier(.3,0,.55,1)",transformOrigin:g}=n;const l={MIN:r.BG_MIN_SCALE/s.scale,MAX:r.BG_MAX_SCALE/s.scale},d=e.progress(50,{MIN:0,MAX:r.BG_MAX_SCALE}),A=e.lerp(d,{MIN:0,MAX:l.MAX}),M=1+(a===r.SCALE_DIRECTION.SCALE_OUT?1:-1)*A;return o.AnimationZoom({zoomFrom:e.clamp(M,l),zoomTo:1,duration:u,delay:c,easing:m,targetLeafElement:!0,transformOrigin:g||t.getMediaOrigin(s&&i.getMediaBoundOffsets({element:s}))})};
