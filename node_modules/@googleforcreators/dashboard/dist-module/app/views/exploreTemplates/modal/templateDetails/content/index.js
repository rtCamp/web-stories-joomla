/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import e from"react";import"prop-types";import{useState as t,useEffect as o,useMemo as n}from"@googleforcreators/react";import{__,sprintf}from"@googleforcreators/i18n";import r from"styled-components";import{Text as i,Chip as a,Button as s,BUTTON_TYPES as l,BUTTON_SIZES as m,BUTTON_VARIANTS as p,Icons as c,Display as d,THEME_CONSTANTS as g}from"@googleforcreators/design-system";import u from"../../../../../../components/cardGallery/index.js";import"../../../../../../components/cardGrid/index.js";import"../../../../../../components/cardGridItem/index.js";import f from"../../../../../../components/colorList/index.js";import"../../../../../../components/contentGutter/index.js";import"../../../../../../components/fileUpload/index.js";import"../../../../../../components/infiniteScroller/index.js";import"../../../../../../components/inlineInputForm/index.js";import"../../../../../../components/layout/provider.js";import"../../../../../../components/layout/scrollable.js";import"../../../../../../components/layout/fixed.js";import"../../../../../../components/pageStructure/pageStructureComponents.js";import"../../../../../../components/pageStructure/leftRail.js";import"../../../../../../components/pageStructure/menuButton.js";import"../../../../../../components/navProvider.js";import"../../../../../../components/scrollToTop/index.js";import"../../../../../../components/storyMenu/index.js";import"../../../../../../components/table/index.js";import"../../../../../config/context.js";import"../../../../../../components/viewStyleBar/index.js";import"../../../../../../types.js";import{Panel as x,Container as j,Inner as E,TemplateDetails as y,DetailContainer as b}from"../components.js";const h=r(x).withConfig({displayName:"content__StyledPanel",componentId:"sc-jxjpbh-0"})(["padding:0 0 48px 0;"]),T=r(i).withConfig({displayName:"content__ByLineText",componentId:"sc-jxjpbh-1"})(["color:",";margin:8px 0 24px;"],(e=>{let{theme:t}=e;return t.colors.fg.tertiary})),w=r(i).withConfig({displayName:"content__DescriptionText",componentId:"sc-jxjpbh-2"})(["margin-bottom:24px;"]),S=r.div.withConfig({displayName:"content__PaginationContainer",componentId:"sc-jxjpbh-3"})(["position:absolute;top:","px;",""],235,(e=>{let{alignLeft:t}=e;return t?"\n          left: 0;\n          transform: translate(-187.5%, -50%);\n        ":"\n          right: 0;\n          transform: translate(187.5%, -50%);\n        "})),L=r(a).attrs({forwardedAs:"li"}).withConfig({displayName:"content__TemplateTag",componentId:"sc-jxjpbh-4"})(["margin-right:12px;margin-bottom:12px;> span{color:"," !important;}"],(e=>{let{theme:t}=e;return t.colors.fg.primary})),P=r.div.withConfig({displayName:"content__MetadataContainer",componentId:"sc-jxjpbh-5"})(["margin-bottom:24px;display:flex;flex-wrap:wrap;align-items:center;"]);function DetailsContent(r){let{activeTemplateIndex:i,isRTL:a,filteredTemplatesLength:x,switchToTemplateByOffset:I,template:R}=r;const{postersByPage:_,title:v,description:A,tags:B,colors:C}=R||{},[M,N]=t([]);o((()=>{_&&N(Object.values(_).map(((e,t)=>({id:t,...e}))))}),[_]);const{NextButton:Y,PrevButton:G}=n((()=>{const t=a?i-1:i+1,o=a?i+1:i-1,n=a?!x||i===x-1:!x||0===i,r=a?!x||0===i:!x||i===x-1,d=e.createElement(s,{type:l.TERTIARY,size:m.SMALL,variant:p.SQUARE,"aria-label":__("View previous template","web-stories"),onClick:()=>{I(o),N([])},disabled:n},e.createElement(c.ArrowLeftLarge,{height:32,width:32})),g=e.createElement(s,{type:l.TERTIARY,size:m.SMALL,variant:p.SQUARE,"aria-label":__("View next template","web-stories"),onClick:()=>{I(t),N([])},disabled:r},e.createElement(c.ArrowRightLarge,{height:32,width:32}));return a?{NextButton:d,PrevButton:g}:{NextButton:g,PrevButton:d}}),[x,i,a,I]),z=R?sprintf(
/* translators: byline. %s: author name. */
__("By %s","web-stories"),R.createdBy):null;return e.createElement(h,null,e.createElement(j,null,e.createElement(S,{alignLeft:!0},G),e.createElement(E,null,e.createElement(u,{galleryPosters:M,isRTL:a,galleryLabel:__("Template details by page","web-stories")}),e.createElement(y,null,e.createElement(b,null,e.createElement(d,{size:g.TYPOGRAPHY.PRESET_SIZES.SMALL,as:"h3","data-testid":"template-details-title"},v),e.createElement(T,{size:g.TYPOGRAPHY.PRESET_SIZES.MEDIUM},z),e.createElement(w,{size:g.TYPOGRAPHY.PRESET_SIZES.MEDIUM},A),e.createElement(P,{role:"list","aria-label":__("Template tags","web-stories")},B.map((t=>e.createElement(L,{key:t,disabled:!0},t)))),e.createElement(P,null,e.createElement(f,{colors:C,size:32,"aria-label":__("Template colors","web-stories")}))))),e.createElement(S,null,Y)))}export{DetailsContent as default};
