/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import e from"react";import{useMemo as t}from"@googleforcreators/react";import"prop-types";import{sprintf,__}from"@googleforcreators/i18n";import{Tooltip as o,TOOLTIP_PLACEMENT as n}from"@googleforcreators/design-system";import"../../../../../constants/index.js";import"../../../../../components/cardGallery/components.js";import"../../../../../components/cardGrid/index.js";import"../../../../../components/cardGridItem/index.js";import"../../../../../components/colorList/index.js";import"../../../../../components/contentGutter/index.js";import"styled-components";import"../../../../../components/fileUpload/index.js";import"../../../../../components/infiniteScroller/index.js";import r from"../../../../../components/inlineInputForm/index.js";import"../../../../../components/layout/provider.js";import"../../../../../components/layout/scrollable.js";import"../../../../../components/layout/fixed.js";import"../../../../../components/pageStructure/pageStructureComponents.js";import"../../../../../components/pageStructure/leftRail.js";import"../../../../../components/pageStructure/menuButton.js";import"../../../../../components/navProvider.js";import"../../../../../components/scrollToTop/index.js";import"../../../../../components/storyMenu/index.js";import"../../../../../components/table/index.js";import"../../../../config/context.js";import"../../../../../components/viewStyleBar/index.js";import"../../../../../types.js";import{LockedRow as s,LockAvatar as i,StyledStoryDisplayContent as m,Row as l,LockIcon as c,Title as a,CardDetailsGrid as p,CardDetailsColumn as d,DetailCopy as u}from"./components.js";import{STORY_STATUS as j}from"../../../../../constants/stories.js";const StoryDisplayContent=f=>{let{author:E,contextMenu:g,displayDate:x,editMode:y,formattedTitle:b,id:w,isLocked:h,lockUser:S={},onEditComplete:T,onEditCancel:v,status:B,title:C}=f;const G=t((()=>{if(!x)return null;switch(B){case j.PUBLISH:return sprintf(
/* translators: %s: published date */
__("Published %s","web-stories"),x);case j.FUTURE:return sprintf(
/* translators: %s: future publish date */
__("Scheduled %s","web-stories"),x);default:return sprintf(
/* translators: %s: last modified date */
__("Modified %s","web-stories"),x)}}),[B,x]),{name:I,avatar:M}=S,P=h&&M&&e.createElement(s,null,e.createElement(o,{position:n.BOTTOM_START,title:I&&sprintf(
/* translators: %s: user name */
__("%s is currently editing this story","web-stories"),I)},e.createElement(i,{src:M,alt:I,decoding:"async",height:24,width:24,"data-test-id":"lock-user-avatar"})));return e.createElement(m,null,P,y?e.createElement(r,{onEditComplete:T,onEditCancel:v,value:C,id:w,label:__("Rename story","web-stories"),isInverted:!0}):e.createElement(l,null,h&&e.createElement(c,null),e.createElement(a,null,b)),e.createElement(p,null,e.createElement(d,null,B===j.DRAFT&&e.createElement(u,{isBold:!0},__("Draft","web-stories")),B===j.PENDING&&e.createElement(u,{isBold:!0},__("Pending","web-stories")),E?.name&&e.createElement(u,null,E?.name),e.createElement(u,{className:"dashboard-grid-item-date"},G)),e.createElement(d,null,g)))};export{StoryDisplayContent as default};
