/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import o from"react";import{useState as t,useDebouncedCallback as e,useEffect as r}from"@googleforcreators/react";import i,{css as s}from"styled-components";import{__}from"@googleforcreators/i18n";import{Button as n,Icons as a,BUTTON_VARIANTS as l}from"@googleforcreators/design-system";import"../layout/provider.js";import"../layout/scrollable.js";import"../layout/fixed.js";import p from"../layout/useLayoutContext.js";const c=i(n).withConfig({displayName:"scrollToTop__StyledButton",componentId:"sc-o0u22z-0"})((o=>{let{$isVisible:t,theme:e}=o;return s(["position:fixed;right:40px;bottom:40px;height:50px;width:50px;display:flex;align-self:center;justify-content:space-around;align-items:center;contain:content;padding:8px;background-color:",";pointer-events:",";box-shadow:0px 4px 14px rgba(0,0,0,0.25);opacity:",";transition:opacity 300ms ease-in-out;"],e.colors.opacity.white64,t?"auto":"none",Number(t))})),m=i(a.ChevronUp).withConfig({displayName:"scrollToTop__DropUpArrowIcon",componentId:"sc-o0u22z-1"})(["position:relative;transform:scale(2.4);"]),ScrollToTop=()=>{const[i,s]=t(!1),{actions:{scrollToTop:n}}=p(),a=e((()=>s(window.scrollY>0)),100);return r((()=>(window.addEventListener("scroll",a,{passive:!0}),function(){window.removeEventListener("scroll",a,{passive:!0})})),[a]),o.createElement(c,{disabled:!i,"aria-label":__("Scroll back to top","web-stories"),"data-testid":"scroll-to-top-button",$isVisible:i,onClick:n,variant:l.CIRCLE},o.createElement(m,{"aria-hidden":!0}))};export{ScrollToTop as default};
