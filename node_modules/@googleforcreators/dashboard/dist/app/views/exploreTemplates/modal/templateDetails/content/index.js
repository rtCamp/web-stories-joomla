/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

"use strict";var e=require("react");require("prop-types");var t=require("@googleforcreators/react"),n=require("@googleforcreators/i18n"),r=require("styled-components"),a=require("@googleforcreators/design-system"),o=require("../../../../../../components/cardGallery/index.js");require("../../../../../../components/cardGrid/index.js"),require("../../../../../../components/cardGridItem/index.js");var i=require("../../../../../../components/colorList/index.js");require("../../../../../../components/contentGutter/index.js"),require("../../../../../../components/fileUpload/index.js"),require("../../../../../../components/infiniteScroller/index.js"),require("../../../../../../components/inlineInputForm/index.js"),require("../../../../../../components/layout/provider.js"),require("../../../../../../components/layout/scrollable.js"),require("../../../../../../components/layout/fixed.js"),require("../../../../../../components/pageStructure/pageStructureComponents.js"),require("../../../../../../components/pageStructure/leftRail.js"),require("../../../../../../components/pageStructure/menuButton.js"),require("../../../../../../components/navProvider.js"),require("../../../../../../components/scrollToTop/index.js"),require("../../../../../../components/storyMenu/index.js"),require("../../../../../../components/table/index.js"),require("../../../../../config/context.js"),require("../../../../../../components/viewStyleBar/index.js"),require("../../../../../../types.js");var l=require("../components.js");function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=s(e),u=s(r);const p=u.default(l.Panel).withConfig({displayName:"content__StyledPanel",componentId:"sc-jxjpbh-0"})(["padding:0 0 48px 0;"]),d=u.default(a.Text).withConfig({displayName:"content__ByLineText",componentId:"sc-jxjpbh-1"})(["color:",";margin:8px 0 24px;"],(e=>{let{theme:t}=e;return t.colors.fg.tertiary})),m=u.default(a.Text).withConfig({displayName:"content__DescriptionText",componentId:"sc-jxjpbh-2"})(["margin-bottom:24px;"]),f=u.default.div.withConfig({displayName:"content__PaginationContainer",componentId:"sc-jxjpbh-3"})(["position:absolute;top:","px;",""],235,(e=>{let{alignLeft:t}=e;return t?"\n          left: 0;\n          transform: translate(-187.5%, -50%);\n        ":"\n          right: 0;\n          transform: translate(187.5%, -50%);\n        "})),T=u.default(a.Chip).attrs({forwardedAs:"li"}).withConfig({displayName:"content__TemplateTag",componentId:"sc-jxjpbh-4"})(["margin-right:12px;margin-bottom:12px;> span{color:"," !important;}"],(e=>{let{theme:t}=e;return t.colors.fg.primary})),g=u.default.div.withConfig({displayName:"content__MetadataContainer",componentId:"sc-jxjpbh-5"})(["margin-bottom:24px;display:flex;flex-wrap:wrap;align-items:center;"]);module.exports=function DetailsContent(e){let{activeTemplateIndex:r,isRTL:s,filteredTemplatesLength:u,switchToTemplateByOffset:E,template:x}=e;const{postersByPage:j,title:S,description:_,tags:y,colors:b}=x||{},[q,h]=t.useState([]);t.useEffect((()=>{j&&h(Object.values(j).map(((e,t)=>({id:t,...e}))))}),[j]);const{NextButton:w,PrevButton:I}=t.useMemo((()=>{const e=s?r-1:r+1,t=s?r+1:r-1,o=s?!u||r===u-1:!u||0===r,i=s?!u||0===r:!u||r===u-1,l=c.default.createElement(a.Button,{type:a.BUTTON_TYPES.TERTIARY,size:a.BUTTON_SIZES.SMALL,variant:a.BUTTON_VARIANTS.SQUARE,"aria-label":n.__("View previous template","web-stories"),onClick:()=>{E(t),h([])},disabled:o},c.default.createElement(a.Icons.ArrowLeftLarge,{height:32,width:32})),p=c.default.createElement(a.Button,{type:a.BUTTON_TYPES.TERTIARY,size:a.BUTTON_SIZES.SMALL,variant:a.BUTTON_VARIANTS.SQUARE,"aria-label":n.__("View next template","web-stories"),onClick:()=>{E(e),h([])},disabled:i},c.default.createElement(a.Icons.ArrowRightLarge,{height:32,width:32}));return s?{NextButton:l,PrevButton:p}:{NextButton:p,PrevButton:l}}),[u,r,s,E]),N=x?n.sprintf(
/* translators: byline. %s: author name. */
n.__("By %s","web-stories"),x.createdBy):null;return c.default.createElement(p,null,c.default.createElement(l.Container,null,c.default.createElement(f,{alignLeft:!0},I),c.default.createElement(l.Inner,null,c.default.createElement(o,{galleryPosters:q,isRTL:s,galleryLabel:n.__("Template details by page","web-stories")}),c.default.createElement(l.TemplateDetails,null,c.default.createElement(l.DetailContainer,null,c.default.createElement(a.Display,{size:a.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL,as:"h3","data-testid":"template-details-title"},S),c.default.createElement(d,{size:a.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.MEDIUM},N),c.default.createElement(m,{size:a.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.MEDIUM},_),c.default.createElement(g,{role:"list","aria-label":n.__("Template tags","web-stories")},y.map((e=>c.default.createElement(T,{key:e,disabled:!0},e)))),c.default.createElement(g,null,c.default.createElement(i,{colors:b,size:32,"aria-label":n.__("Template colors","web-stories")}))))),c.default.createElement(f,null,w)))};
