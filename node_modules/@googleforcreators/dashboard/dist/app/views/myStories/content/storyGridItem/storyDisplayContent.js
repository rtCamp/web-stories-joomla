/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

"use strict";var e=require("react"),t=require("@googleforcreators/react");require("prop-types");var r=require("@googleforcreators/i18n"),n=require("@googleforcreators/design-system");require("../../../../../constants/index.js"),require("../../../../../components/cardGallery/components.js"),require("../../../../../components/cardGrid/index.js"),require("../../../../../components/cardGridItem/index.js"),require("../../../../../components/colorList/index.js"),require("../../../../../components/contentGutter/index.js"),require("styled-components"),require("../../../../../components/fileUpload/index.js"),require("../../../../../components/infiniteScroller/index.js");var o=require("../../../../../components/inlineInputForm/index.js");require("../../../../../components/layout/provider.js"),require("../../../../../components/layout/scrollable.js"),require("../../../../../components/layout/fixed.js"),require("../../../../../components/pageStructure/pageStructureComponents.js"),require("../../../../../components/pageStructure/leftRail.js"),require("../../../../../components/pageStructure/menuButton.js"),require("../../../../../components/navProvider.js"),require("../../../../../components/scrollToTop/index.js"),require("../../../../../components/storyMenu/index.js"),require("../../../../../components/table/index.js"),require("../../../../config/context.js"),require("../../../../../components/viewStyleBar/index.js"),require("../../../../../types.js");var s=require("./components.js"),i=require("../../../../../constants/stories.js");function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=l(e);module.exports=e=>{let{author:l,contextMenu:u,displayDate:c,editMode:d,formattedTitle:m,id:p,isLocked:f,lockUser:q={},onEditComplete:T,onEditCancel:j,status:y,title:E}=e;const S=t.useMemo((()=>{if(!c)return null;switch(y){case i.STORY_STATUS.PUBLISH:return r.sprintf(
/* translators: %s: published date */
r.__("Published %s","web-stories"),c);case i.STORY_STATUS.FUTURE:return r.sprintf(
/* translators: %s: future publish date */
r.__("Scheduled %s","web-stories"),c);default:return r.sprintf(
/* translators: %s: last modified date */
r.__("Modified %s","web-stories"),c)}}),[y,c]),{name:_,avatar:g}=q,x=f&&g&&a.default.createElement(s.LockedRow,null,a.default.createElement(n.Tooltip,{position:n.TOOLTIP_PLACEMENT.BOTTOM_START,title:_&&r.sprintf(
/* translators: %s: user name */
r.__("%s is currently editing this story","web-stories"),_)},a.default.createElement(s.LockAvatar,{src:g,alt:_,decoding:"async",height:24,width:24,"data-test-id":"lock-user-avatar"})));return a.default.createElement(s.StyledStoryDisplayContent,null,x,d?a.default.createElement(o,{onEditComplete:T,onEditCancel:j,value:E,id:p,label:r.__("Rename story","web-stories"),isInverted:!0}):a.default.createElement(s.Row,null,f&&a.default.createElement(s.LockIcon,null),a.default.createElement(s.Title,null,m)),a.default.createElement(s.CardDetailsGrid,null,a.default.createElement(s.CardDetailsColumn,null,y===i.STORY_STATUS.DRAFT&&a.default.createElement(s.DetailCopy,{isBold:!0},r.__("Draft","web-stories")),y===i.STORY_STATUS.PENDING&&a.default.createElement(s.DetailCopy,{isBold:!0},r.__("Pending","web-stories")),l?.name&&a.default.createElement(s.DetailCopy,null,l?.name),a.default.createElement(s.DetailCopy,{className:"dashboard-grid-item-date"},S)),a.default.createElement(s.CardDetailsColumn,null,u)))};
