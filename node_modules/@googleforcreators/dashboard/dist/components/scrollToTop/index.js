/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

"use strict";var e=require("react"),o=require("@googleforcreators/react"),t=require("styled-components"),r=require("@googleforcreators/i18n"),i=require("@googleforcreators/design-system");require("../layout/provider.js"),require("../layout/scrollable.js"),require("../layout/fixed.js");var s=require("../layout/useLayoutContext.js");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=n(e),l=n(t);const c=l.default(i.Button).withConfig({displayName:"scrollToTop__StyledButton",componentId:"sc-o0u22z-0"})((e=>{let{$isVisible:o,theme:r}=e;return t.css(["position:fixed;right:40px;bottom:40px;height:50px;width:50px;display:flex;align-self:center;justify-content:space-around;align-items:center;contain:content;padding:8px;background-color:",";pointer-events:",";box-shadow:0px 4px 14px rgba(0,0,0,0.25);opacity:",";transition:opacity 300ms ease-in-out;"],r.colors.opacity.white64,o?"auto":"none",Number(o))})),u=l.default(i.Icons.ChevronUp).withConfig({displayName:"scrollToTop__DropUpArrowIcon",componentId:"sc-o0u22z-1"})(["position:relative;transform:scale(2.4);"]);module.exports=()=>{const[e,t]=o.useState(!1),{actions:{scrollToTop:n}}=s(),l=o.useDebouncedCallback((()=>t(window.scrollY>0)),100);return o.useEffect((()=>(window.addEventListener("scroll",l,{passive:!0}),function(){window.removeEventListener("scroll",l,{passive:!0})})),[l]),a.default.createElement(c,{disabled:!e,"aria-label":r.__("Scroll back to top","web-stories"),"data-testid":"scroll-to-top-button",$isVisible:e,onClick:n,variant:i.BUTTON_VARIANTS.CIRCLE},a.default.createElement(u,{"aria-hidden":!0}))};
