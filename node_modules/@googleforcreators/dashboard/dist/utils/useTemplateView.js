/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

"use strict";var e=require("@googleforcreators/react"),t=require("@googleforcreators/units"),a=require("prop-types"),u=require("../constants/index.js"),s=require("../types.js"),l=require("./usePagePreviewSize.js"),r=require("../constants/templates.js");function f(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=f(a);o.default.shape({style:o.default.oneOf(Object.values(u.VIEW_STYLE)),pageSize:s.PageSizePropType}),o.default.shape({value:o.default.oneOfType([o.default.number,o.default.string]),set:o.default.func}),o.default.shape({value:o.default.number,set:o.default.func,requestNextPage:o.default.func}),o.default.shape({keyword:o.default.string,setKeyword:o.default.func}),o.default.shape({value:o.default.oneOf(Object.values(r.TEMPLATES_GALLERY_SORT_OPTIONS)),set:o.default.func}),module.exports=function(a){let{totalPages:s}=a;const[f,o]=e.useState(""),[d,n]=e.useState(r.TEMPLATES_GALLERY_SORT_OPTIONS.POPULAR),[i,c]=e.useState(1),{pageSize:p}=l.default({isGrid:!0}),S=e.useCallback((e=>{const a={MIN:1,MAX:s};c(t.clamp(e,a))}),[s]),T=e.useCallback((()=>S(i+1)),[i,S]),g=e.useCallback((e=>{n(e),S(1)}),[S]),L=e.useCallback((e=>{S(1),o(e)}),[S]);return e.useMemo((()=>({view:{style:u.VIEW_STYLE.GRID,pageSize:p},sort:{value:d,set:g},filter:{value:r.TEMPLATES_GALLERY_STATUS.ALL,set:()=>{}},page:{value:i,set:c,requestNextPage:T},search:{keyword:f,setKeyword:L}})),[p,d,g,i,T,f,L])};
