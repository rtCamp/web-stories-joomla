/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import t from"react";import e from"prop-types";import{useCallback as r}from"@googleforcreators/react";import o from"styled-components";function n(){return n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},n.apply(this,arguments)}const a=9991,i=o.div.withConfig({displayName:"styled__Popover",componentId:"sc-l47kav-0"})(["--translate-x:calc(var(--delta-x,0) * 1px);--translate-y:calc(var(--delta-y,0) * 1px);display:",";position:",";z-index:",";transform:translate(var(--translate-x),var(--translate-y));"],(t=>{let{isOpen:e}=t;return e?"block":"none"}),(t=>{let{isInline:e}=t;return e?"relative":"absolute"}),(t=>{let{popoverZIndex:e}=t;return e}));i.defaultProps={popoverZIndex:9991},i.propTypes={popoverZIndex:e.number};const s=o.div.withConfig({displayName:"styled__Shadow",componentId:"sc-l47kav-1"})(["position:absolute;top:0;right:0;bottom:0;left:0;border-radius:",";box-shadow:0px 4px 4px rgba(0,0,0,0.25);pointer-events:none;"],(t=>{let{theme:e,$isHorizontal:r}=t;return r?e.borders.radius.medium:e.borders.radius.small}));function SmartPopover(e){const o=r((t=>{if(!t)return;const r=t.getBoundingClientRect(),o=window.innerWidth-r.width,n=window.innerHeight-r.height,a=e.isRTL?r.x<0:o<r.x,i=e.isRTL?r.width:-r.width,s={x:a?i:0,y:Math.min(0,n-r.y)};t.style.setProperty("--delta-x",s.x),t.style.setProperty("--delta-y",s.y)}),[e.isRTL]);return e.isOpen?t.createElement(i,n({ref:o},e)):null}export{a as POPOVER_Z_INDEX,i as Popover,s as Shadow,SmartPopover};
