/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import e from"react";import t from"prop-types";import o,{css as r}from"styled-components";import{forwardRef as i,useMemo as n,useCallback as a}from"@googleforcreators/react";import{v4 as s}from"uuid";import{THEME_CONSTANTS as l}from"../../theme/constants/index.js";import{Text as d}from"../typography/text/index.js";import{visuallyHidden as c}from"../../theme/helpers/visuallyHidden.js";import{focusCSS as p}from"../../theme/helpers/outline.js";function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},u.apply(this,arguments)}const m="ON",f="OFF",h=o.h3.withConfig({displayName:"switch__VisuallyHiddenRadioGroupLabel",componentId:"sc-1kebe5q-0"})(["",";"],c),g=o.span.withConfig({displayName:"switch__SlidingButton",componentId:"sc-1kebe5q-1"})(["position:absolute;display:block;top:0;left:0;width:50%;height:","px;border-radius:100px;transition:all 0.15s ease-out;z-index:0;",""],32,(e=>{let{hasOffset:t}=e;return t&&"left: 50%"})),b=o.div.withConfig({displayName:"switch__SwitchContainer",componentId:"sc-1kebe5q-2"})(["position:relative;height:","px;display:flex;flex-direction:row;justify-content:center;align-items:center;appearance:none;background:",";border-radius:100px;color:",";cursor:pointer;",";"],32,(e=>{let{theme:t}=e;return t.colors.divider.secondary}),(e=>{let{theme:t}=e;return t.colors.fg.primary}),(e=>{let{disabled:t,theme:o}=e;return t?r(["cursor:default;background:",";","{background-color:",";}"],o.colors.divider.tertiary,g,o.colors.interactiveBg.disable):r([":hover ","{background-color:",";}"],g,o.colors.interactiveBg.primaryHover)})),y=o.input.attrs({type:"radio"}).withConfig({displayName:"switch__HiddenRadioButton",componentId:"sc-1kebe5q-3"})(["position:absolute;height:0;width:0;padding:0;min-width:unset;appearance:none;border:0;box-shadow:none;margin:-1px;outline:none;overflow:hidden;opacity:0;"]),v=o(d).attrs({forwardedAs:"label",size:l.TYPOGRAPHY.PRESET_SIZES.SMALL}).withConfig({displayName:"switch__RadioButtonLabel",componentId:"sc-1kebe5q-4"})(["display:flex;align-items:center;justify-content:center;flex:1;height:","px;width:50%;padding:0px 6px;z-index:1;color:",";background-color:",";border-radius:100px;cursor:pointer;overflow:hidden;text-align:center;text-overflow:ellipsis;white-space:nowrap;transition:all 0.15s ease-out;"," :focus-within ~ span{",";}"],32,(e=>{let{isActive:t,theme:o}=e;return t?o.colors.inverted.fg.primary:o.colors.fg.secondary}),(e=>{let{isActive:t,theme:o}=e;return t&&o.colors.interactiveBg.primaryNormal}),(e=>{let{disabled:t,theme:o}=e;return t&&r(["cursor:default;color:",";"],o.colors.fg.disable)}),p),w=i((function(t,o){let{className:r,disabled:i,groupLabel:l,id:d,offLabel:c,onChange:p,onLabel:w,value:x,...k}=t;const I=n((()=>({group:d||s(),offInput:s(),onInput:s()})),[d]),N=a((e=>{p(e,e.target.value===m)}),[p]);return e.createElement(b,{ref:o,className:r,role:"radiogroup","aria-labelledby":I.group,"aria-disabled":i,disabled:i},e.createElement(h,{id:I.group},l),e.createElement(v,{htmlFor:I.onInput,isActive:x,disabled:i},w,e.createElement(y,u({checked:x,disabled:i,id:I.onInput,onChange:N,value:m},k))),e.createElement(v,{htmlFor:I.offInput,isActive:!x,disabled:i},c,e.createElement(y,u({checked:!x,disabled:i,id:I.offInput,onChange:N,value:f},k))),e.createElement(g,{hasOffset:!x}))}));w.displayName="Switch";const x={className:t.string,disabled:t.bool,groupLabel:t.string.isRequired,id:t.string,name:t.string.isRequired,offLabel:t.string.isRequired,onChange:t.func.isRequired,onLabel:t.string.isRequired,value:t.bool};w.defaultProps={value:!1};export{w as Switch,x as SwitchPropTypes};
