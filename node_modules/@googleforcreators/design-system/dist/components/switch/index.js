/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("prop-types"),r=require("styled-components"),i=require("@googleforcreators/react"),o=require("uuid"),a=require("../../theme/constants/index.js"),n=require("../typography/text/index.js"),l=require("../../theme/helpers/visuallyHidden.js"),s=require("../../theme/helpers/outline.js");function d(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=d(e),c=d(t),p=d(r);function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},f.apply(this,arguments)}const h="ON",g="OFF",b=p.default.h3.withConfig({displayName:"switch__VisuallyHiddenRadioGroupLabel",componentId:"sc-1kebe5q-0"})(["",";"],l.visuallyHidden),m=p.default.span.withConfig({displayName:"switch__SlidingButton",componentId:"sc-1kebe5q-1"})(["position:absolute;display:block;top:0;left:0;width:50%;height:","px;border-radius:100px;transition:all 0.15s ease-out;z-index:0;",""],32,(e=>{let{hasOffset:t}=e;return t&&"left: 50%"})),v=p.default.div.withConfig({displayName:"switch__SwitchContainer",componentId:"sc-1kebe5q-2"})(["position:relative;height:","px;display:flex;flex-direction:row;justify-content:center;align-items:center;appearance:none;background:",";border-radius:100px;color:",";cursor:pointer;",";"],32,(e=>{let{theme:t}=e;return t.colors.divider.secondary}),(e=>{let{theme:t}=e;return t.colors.fg.primary}),(e=>{let{disabled:t,theme:i}=e;return t?r.css(["cursor:default;background:",";","{background-color:",";}"],i.colors.divider.tertiary,m,i.colors.interactiveBg.disable):r.css([":hover ","{background-color:",";}"],m,i.colors.interactiveBg.primaryHover)})),y=p.default.input.attrs({type:"radio"}).withConfig({displayName:"switch__HiddenRadioButton",componentId:"sc-1kebe5q-3"})(["position:absolute;height:0;width:0;padding:0;min-width:unset;appearance:none;border:0;box-shadow:none;margin:-1px;outline:none;overflow:hidden;opacity:0;"]),w=p.default(n.Text).attrs({forwardedAs:"label",size:a.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}).withConfig({displayName:"switch__RadioButtonLabel",componentId:"sc-1kebe5q-4"})(["display:flex;align-items:center;justify-content:center;flex:1;height:","px;width:50%;padding:0px 6px;z-index:1;color:",";background-color:",";border-radius:100px;cursor:pointer;overflow:hidden;text-align:center;text-overflow:ellipsis;white-space:nowrap;transition:all 0.15s ease-out;"," :focus-within ~ span{",";}"],32,(e=>{let{isActive:t,theme:r}=e;return t?r.colors.inverted.fg.primary:r.colors.fg.secondary}),(e=>{let{isActive:t,theme:r}=e;return t&&r.colors.interactiveBg.primaryNormal}),(e=>{let{disabled:t,theme:i}=e;return t&&r.css(["cursor:default;color:",";"],i.colors.fg.disable)}),s.focusCSS),x=i.forwardRef((function(e,t){let{className:r,disabled:a,groupLabel:n,id:l,offLabel:s,onChange:d,onLabel:c,value:p,...x}=e;const q=i.useMemo((()=>({group:l||o.v4(),offInput:o.v4(),onInput:o.v4()})),[l]),k=i.useCallback((e=>{d(e,e.target.value===h)}),[d]);return u.default.createElement(v,{ref:t,className:r,role:"radiogroup","aria-labelledby":q.group,"aria-disabled":a,disabled:a},u.default.createElement(b,{id:q.group},n),u.default.createElement(w,{htmlFor:q.onInput,isActive:p,disabled:a},c,u.default.createElement(y,f({checked:p,disabled:a,id:q.onInput,onChange:k,value:h},x))),u.default.createElement(w,{htmlFor:q.offInput,isActive:!p,disabled:a},s,u.default.createElement(y,f({checked:!p,disabled:a,id:q.offInput,onChange:k,value:g},x))),u.default.createElement(m,{hasOffset:!p}))}));x.displayName="Switch";const q={className:c.default.string,disabled:c.default.bool,groupLabel:c.default.string.isRequired,id:c.default.string,name:c.default.string.isRequired,offLabel:c.default.string.isRequired,onChange:c.default.func.isRequired,onLabel:c.default.string.isRequired,value:c.default.bool};x.defaultProps={value:!1},exports.Switch=x,exports.SwitchPropTypes=q;
