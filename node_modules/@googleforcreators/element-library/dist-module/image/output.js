/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import e from"react";import{isBlobURL as t,calculateSrcSet as o}from"@googleforcreators/media";import{PAGE_WIDTH as r,FULLBLEED_RATIO as a,FULLBLEED_HEIGHT as i}from"@googleforcreators/units";import"@googleforcreators/elements";import l from"../media/output.js";function ImageOutput(m){let{element:s,box:n}=m;const{alt:c,isBackground:u,resource:f,width:d,height:g,scale:p}=s,h={layout:"fill",src:t(f.src)?"":f.src,alt:void 0!==c?c:f.alt},w=o(f);if(w){h.srcSet=w;let e=d;if(u){const t=d/g;e=(t<=a?r:t*i)*(p/100)}const t=e/r,o=Math.round(100*t)+"vw",l=Math.round(45*t)+"vh";h.sizes=`(min-width: 1024px) ${l}, ${o}`,h["disable-inline-width"]=!0}return e.createElement(l,{box:n,element:s,"data-leaf-element":"true"},e.createElement("amp-img",h))}export{ImageOutput as default};
