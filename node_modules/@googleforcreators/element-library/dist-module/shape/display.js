/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import r from"react";import e from"styled-components";import{useRef as o}from"@googleforcreators/react";import"prop-types";import{useUnits as t}from"@googleforcreators/units";import{useTransformHandler as s}from"@googleforcreators/transform";import{shouldDisplayBorder as i,getResponsiveBorder as a}from"@googleforcreators/masks";import"@googleforcreators/elements";import{elementFillContent as d,elementWithBackgroundColor as m,elementWithBorder as l}from"../shared/shared.js";import"../shared/layerText.js";import n from"../shared/useColorTransformHandler.js";const p=e.div.withConfig({displayName:"display__Element",componentId:"sc-1s7dwi8-0"})([""," "," ",""],d,m,l);function ShapeDisplay(e){let{element:d,previewMode:m}=e;const{id:l,isDefaultBackground:c,backgroundColor:f,border:g,borderRadius:h,mask:u,width:y,height:b}=d,{dataToEditorX:w}=t((r=>({dataToEditorX:r.actions.dataToEditorX}))),k=o(null);return n({id:l,targetRef:k}),s(l,(r=>{if(k.current&&!c)if(r){const{resize:e}=r;if(e&&0!==e[0]&&0!==e[1]){const[r,o]=e;i(d)&&(k.current.style.width=r+g.left+g.right+"px",k.current.style.height=o+g.top+g.bottom+"px")}}else k.current.style.width="",k.current.style.height=""})),c?r.createElement(p,{ref:k}):r.createElement(p,{ref:k,backgroundColor:f,borderRadius:h,width:y,height:b,border:a(g,m,w),mask:u})}export{ShapeDisplay as default};
