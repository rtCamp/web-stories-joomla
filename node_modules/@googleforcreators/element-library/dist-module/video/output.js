/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import e from"react";import{isBlobURL as t}from"@googleforcreators/media";import"@googleforcreators/elements";import o from"../media/output.js";import r from"./captions.js";function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},a.apply(this,arguments)}function i(e,t){return void 0===e?t:e}function VideoOutput(l){let{element:n,box:p}=l;const{resource:c,loop:s,tracks:u}=n,{isMuted:m,mimeType:d,src:f}=c,v=i(n.poster,c.poster),y=i(n.alt,c.alt),g={type:d,src:t(f)?"":f},O={autoPlay:"autoplay",poster:t(v)?"":v,artwork:t(v)?"":v,title:y,alt:y,layout:"fill",loop:s?"loop":void 0,noaudio:m?"noaudio":void 0};return e.createElement(o,{element:n,box:p,"data-leaf-element":"true"},e.createElement("amp-video",a({},O,{id:`el-${n.id}-media`,"captions-id":u?.length>0?`el-${n.id}-captions`:void 0}),e.createElement("source",g),e.createElement(r,{tracks:u})))}export{VideoOutput as default};
