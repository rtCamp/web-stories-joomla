/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

"use strict";var e=require("react"),t=require("@googleforcreators/media"),r=require("@googleforcreators/units");require("@googleforcreators/elements");var a=require("../media/output.js");function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=o(e);module.exports=function ImageOutput(e){let{element:o,box:i}=e;const{alt:u,isBackground:c,resource:n,width:s,height:d,scale:f}=o,m={layout:"fill",src:t.isBlobURL(n.src)?"":n.src,alt:void 0!==u?u:n.alt},g=t.calculateSrcSet(n);if(g){m.srcSet=g;let e=s;if(c){const t=s/d;e=(t<=r.FULLBLEED_RATIO?r.PAGE_WIDTH:t*r.FULLBLEED_HEIGHT)*(f/100)}const t=e/r.PAGE_WIDTH,a=Math.round(100*t)+"vw",o=Math.round(45*t)+"vh";m.sizes=`(min-width: 1024px) ${o}, ${a}`,m["disable-inline-width"]=!0}return l.default.createElement(a,{box:i,element:o,"data-leaf-element":"true"},l.default.createElement("amp-img",m))};
