/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=function(){let{family:e,fallbacks:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=["cursive","fantasy","monospace","serif","sans-serif"];let i=e?`"${e}"`:"";return t&&t.length&&(i+=e?",":"",i+=t.map((e=>n.includes(e)?e:`"${e}"`)).join(",")),i};function t(e){if(!e.font?.metrics)return{contentAreaPx:0,lineBoxPx:0,marginOffset:0};const{fontSize:t,lineHeight:n,font:{metrics:{upm:i,asc:o,des:r}}}=e,a=(o-r)/i*t,l=n*t;return{marginOffset:l-a,contentAreaPx:a,lineBoxPx:l}}exports.calcFontMetrics=t,exports.generateFontFamily=e,exports.generateParagraphTextStyle=function(n,i,o){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o,a=arguments.length>4?arguments[4]:void 0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:o;const{font:s,fontSize:c,lineHeight:f,padding:g,textAlign:d}=n,{marginOffset:h}=t(a),p=g?.vertical||0,u=g?.horizontal||0,x=p||u,m=x?`${o(p)} ${i(u)}`:0;return{dataToEditorY:o,whiteSpace:"pre-wrap",overflowWrap:"break-word",wordBreak:"break-word",margin:`${l(-h/2)} 0`,fontFamily:e(s),fontSize:r(c),font:s,lineHeight:f,textAlign:d,padding:m}},exports.getHighlightLineheight=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"px";return 0===t?`${e}em`:`calc(${e}em ${t>0?"+":"-"} ${2*Math.abs(t)}${n})`};
