/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("@googleforcreators/react");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("prop-types");var n=r(e);const o=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"];function l(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{childNodes:n,localName:o,nodeType:l,textContent:i}=e;if(Node.TEXT_NODE===l)return i;const s=e.hasChildNodes()?[...n].map((e=>a(e,r))):null;return o in r?t.cloneElement(r[o],null,s):t.createElement(o,null,s)}function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];do{r.push(l(e,t)),e=e.nextSibling}while(null!==e);return r}exports.default=function TranslateWithMarkup(e){let{mapping:r={},children:l}=e;r=Object.fromEntries(Object.entries(r).map((e=>{let[t,r]=e;return[t.toLowerCase(),r]})));const i=Object.keys(r).filter((e=>o.includes(e))).join(" ");if(i.length>0)throw new Error(`Found disallowed void elements in TranslateWithMarkup map: ${i}`);const s=(new DOMParser).parseFromString(l,"text/html").body.firstChild;return s?a(s,r).map(((e,r)=>n.default.createElement(t.Fragment,{key:r},e))):[]},exports.transformNode=l;
