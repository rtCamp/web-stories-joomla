/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import{canMaskHaveBorder as t,canSupportMultiBorder as o}from"../masks.js";function r(t){let{border:o}=t;if(!o)return!1;const{left:r,top:e,right:i,bottom:n,color:c}=o;return!!c&&!!(r||e||i||n)}function e(e){return r(e)&&t(e)&&o(e)}function i(t){let{left:o,top:r,right:e,bottom:i,width:n="100%",height:c="100%",posTop:f="0px",posLeft:h="0px"}=t;return{left:`calc(${h} - ${o}px)`,top:`calc(${f} - ${r}px)`,width:`calc(${n} + ${o+e}px)`,height:`calc(${c} + ${r+i}px)`}}function n(t){if(!r(t)||!o(t))return h(t);const{border:e}=t,{color:i,left:n,top:c,right:f,bottom:l}=e,u=p({color:i});return{top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",position:"absolute",...{borderWidth:`${Math.ceil(c)}px ${Math.ceil(f)}px ${Math.ceil(l)}px ${Math.ceil(n)}px`,borderColor:u,borderStyle:"solid",...h(t)}}}function c(t,o){return t&&o?t/o*100:0}function f(t,o){if(!t)return"0%";const{topLeft:r,topRight:e,bottomRight:i,bottomLeft:n}=t;return{topLeft:c(r,o),topRight:c(e,o),bottomRight:c(i,o),bottomLeft:c(n,o)}}function h(t){const{borderRadius:r,width:e,height:i}=t;if(!r||!o(t))return{};const n=f(r,e),c=f(r,i);return{borderRadius:`${n.topLeft}% ${n.topRight}% ${n.bottomRight}% ${n.bottomLeft}% / ${c.topLeft}% ${c.topRight}% ${c.bottomRight}% ${c.bottomLeft}%`}}function p(t){let{color:o}=t;const{color:{r:r,g:e,b:i,a:n}}=o;return`rgba(${r},${e},${i},${void 0===n?1:n})`}function l(t,o,r){if(!o||!t)return t;const{left:e,top:i,right:n,bottom:c}=t;return{...t,left:r(e),top:r(i),right:r(n),bottom:r(c)}}export{p as getBorderColor,i as getBorderPositionCSS,h as getBorderRadius,n as getBorderStyle,l as getResponsiveBorder,e as shouldDisplayBorder};
