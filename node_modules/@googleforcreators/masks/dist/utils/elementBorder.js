/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("../masks.js");function o(t){let{border:o}=t;if(!o)return!1;const{left:r,top:e,right:i,bottom:n,color:p}=o;return!!p&&!!(r||e||i||n)}function r(t,o){return t&&o?t/o*100:0}function e(t,o){if(!t)return"0%";const{topLeft:e,topRight:i,bottomRight:n,bottomLeft:p}=t;return{topLeft:r(e,o),topRight:r(i,o),bottomRight:r(n,o),bottomLeft:r(p,o)}}function i(o){const{borderRadius:r,width:i,height:n}=o;if(!r||!t.canSupportMultiBorder(o))return{};const p=e(r,i),c=e(r,n);return{borderRadius:`${p.topLeft}% ${p.topRight}% ${p.bottomRight}% ${p.bottomLeft}% / ${c.topLeft}% ${c.topRight}% ${c.bottomRight}% ${c.bottomLeft}%`}}function n(t){let{color:o}=t;const{color:{r:r,g:e,b:i,a:n}}=o;return`rgba(${r},${e},${i},${void 0===n?1:n})`}exports.getBorderColor=n,exports.getBorderPositionCSS=function(t){let{left:o,top:r,right:e,bottom:i,width:n="100%",height:p="100%",posTop:c="0px",posLeft:u="0px"}=t;return{left:`calc(${u} - ${o}px)`,top:`calc(${c} - ${r}px)`,width:`calc(${n} + ${o+e}px)`,height:`calc(${p} + ${r+i}px)`}},exports.getBorderRadius=i,exports.getBorderStyle=function(r){if(!o(r)||!t.canSupportMultiBorder(r))return i(r);const{border:e}=r,{color:p,left:c,top:u,right:l,bottom:s}=e,h=n({color:p});return{top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",position:"absolute",...{borderWidth:`${Math.ceil(u)}px ${Math.ceil(l)}px ${Math.ceil(s)}px ${Math.ceil(c)}px`,borderColor:h,borderStyle:"solid",...i(r)}}},exports.getResponsiveBorder=function(t,o,r){if(!o||!t)return t;const{left:e,top:i,right:n,bottom:p}=t;return{...t,left:r(e),top:r(i),right:r(n),bottom:r(p)}},exports.shouldDisplayBorder=function(r){return o(r)&&t.canMaskHaveBorder(r)&&t.canSupportMultiBorder(r)};
