/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

"use strict";function n(n){let{elements:e,...r}=n;return{elements:e.map(t),...r}}function t(n){return"text"===n.type?function(n){let{bold:t,fontWeight:u,fontStyle:i,textDecoration:c,letterSpacing:p,color:l,content:a,...f}=n;const s=[a].map((n=>function(n,t,u){const i="number"==typeof u&&400!==u?u:!0===t?700:null;if(i){return o(e(n,"strong"),`font-weight: ${i}`)}return r(n,"strong","font-weight: 700")}(n,t,u))).map((n=>function(n,t){const u="font-style: italic";if("italic"===t&&t){return o(e(n,"em"),u)}return r(n,"em",u)}(n,i))).map((n=>function(n,t){const u="text-decoration: underline";if("underline"===t&&t){return o(e(n,"u"),u)}return r(n,"u",u)}(n,c))).map((n=>function(n,t){if(!t)return n;const{color:{r:e,g:r,b:u,a:i=1}}=t;return o(n,`color: rgba(${e}, ${r}, ${u}, ${i})`)}(n,l))).map((n=>function(n,t){if(!t)return n;return o(n,`letter-spacing: ${t/100}em`)}(n,p))).pop();return{...f,content:s}}(n):n}function e(n,t){return n.replace(new RegExp(`</?${t}>`,"gi"),"")}function r(n,t,e){return n.replace(new RegExp(`<${t}>`,"gi"),`<span style="${e}">`).replace(new RegExp(`</${t}>`,"gi"),"</span>")}function o(n,t){return`<span style="${t}">${n}</span>`}module.exports=function(t){let{pages:e,...r}=t;return{pages:e.map(n),...r}};
