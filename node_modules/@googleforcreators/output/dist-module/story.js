/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import e from"react";import"prop-types";import"@googleforcreators/elements";import t from"./utils/getUsedAmpExtensions.js";import r from"./utils/ampBoilerplate.js";import a from"./utils/styles.js";import l from"./utils/fontDeclarations.js";import n from"./page.js";import o from"./utils/getPreloadResources.js";function OutputStory(m){let{story:{featuredMedia:s,link:i,title:c,autoAdvance:u,defaultPageDuration:p,backgroundAudio:d,publisherLogo:f},pages:g,metadata:{publisher:E},flags:h}=m;const y=t(g),b=o(g),k=s?.url||"",j=f?.url||"";return e.createElement("html",{amp:"",lang:"en"},e.createElement("head",null,e.createElement("meta",{charSet:"utf-8"}),e.createElement("meta",{name:"viewport",content:"width=device-width,minimum-scale=1,initial-scale=1"}),y.map((t=>{let{name:r,src:a}=t;return e.createElement("script",{key:a,async:"async",src:a,"custom-element":r})})),e.createElement(l,{pages:g}),b.map((t=>{let{url:r,type:a}=t;return e.createElement("link",{key:r,href:r,rel:"preload",as:a})})),e.createElement(r,null),e.createElement(a,null),e.createElement("meta",{name:"web-stories-replace-head-start"}),e.createElement("title",null,c),i&&e.createElement("link",{rel:"canonical",href:i}),e.createElement("meta",{name:"web-stories-replace-head-end"})),e.createElement("body",null,e.createElement("amp-story",{standalone:"",publisher:E,"publisher-logo-src":j,title:c,"poster-portrait-src":k,"background-audio":d?.resource?.src??void 0},g.map((t=>e.createElement(n,{key:t.id,page:t,autoAdvance:u,defaultPageDuration:p,flags:h}))))))}export{OutputStory as default};
