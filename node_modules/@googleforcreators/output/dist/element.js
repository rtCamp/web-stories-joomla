/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

"use strict";var e=require("react"),t=require("@googleforcreators/patterns"),o=require("@googleforcreators/units"),r=require("@googleforcreators/animation"),l=require("@googleforcreators/elements"),a=require("@googleforcreators/masks"),i=require("./components/withLink/index.js");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=n(e);module.exports=function OutputElement(e){let{element:n}=e;const{id:u,opacity:d,type:p,border:c,backgroundColor:g,backgroundTextMode:f,overlay:m}=n,{Output:y,isMaskable:h}=l.getDefinitionForType(p),b=o.getBox(n,100,100),{x:k,y:E,width:v,height:x,rotationAngle:$}=b,q={backgroundClip:"content-box",...t.generatePatternStyles(g)};return s.default.createElement("div",{style:{position:"absolute",pointerEvents:"none",left:k?`${k}%`:0,top:E?`${E}%`:0,width:`${v}%`,height:`${x}%`,...a.shouldDisplayBorder(n)?a.getBorderPositionCSS({...c,width:`${v}%`,height:`${x}%`,posTop:`${E}%`,posLeft:`${k}%`}):null,transform:$?`rotate(${$}deg)`:null,opacity:void 0!==d?d/100:null}},s.default.createElement(r.StoryAnimation.AMPWrapper,{target:u},s.default.createElement(a.OutputWithMask,{className:h?"mask":void 0,element:n,box:b,id:"el-"+u,style:{...a.shouldDisplayBorder(n)?a.getBorderStyle(n):null,pointerEvents:"initial",width:"100%",height:"100%",display:"block",position:"absolute",top:0,left:0,zIndex:0,...a.getBorderRadius(n),...f===l.BACKGROUND_TEXT_MODE.FILL?q:null},skipDefaultMask:!0},s.default.createElement(i,{element:n,style:{width:"100%",height:"100%",display:"block",position:"absolute",top:0,left:0}},s.default.createElement(y,{element:n,box:b})),m&&s.default.createElement("div",{className:"element-overlay-area",style:t.generatePatternStyles(m)}))))};
