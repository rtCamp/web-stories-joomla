/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import{WEIGHT as t,NONE as n,MULTIPLE_VALUE as o}from"../customConstants.js";import{getPrefixStylesInSelection as e,togglePrefixStyle as r}from"../styleManipulation.js";import{numericToStyle as u,isStyle as s,styleToNumeric as i}from"./util.js";const f=700;function c(n){return u(t,n)}function l(n){return i(t,n)}function a(t){return t.map((t=>t===n?400:l(t)))}const m={elementToStyle:function(t){const n="span"===t.tagName.toLowerCase(),o=parseInt(t.style.fontWeight),e=o&&!isNaN(o);return n&&e&&400!==o?c(o):null},stylesToCSS:function(n){const o=n.find((n=>s(n,t)));if(!o)return null;const e=l(o);return e?{fontWeight:e}:null},autoFocus:!0,getters:{isBold:function(n){return a(e(n,t)).every((t=>t>=600))},fontWeight:function(n){const r=a(e(n,t));return r.length>1?o:r[0]}},setters:{toggleBold:function(n,o){if("boolean"==typeof o){if(o){return r(n,t,(()=>!0),(()=>c(f)))}return r(n,t,(()=>!1))}return r(n,t,(t=>a(t).some((t=>t<600))),(t=>c(Math.max(...[f].concat(a(t))))))},setFontWeight:function(n,o){return r(n,t,(()=>400!==o),(()=>c(o)))}}};export{m as default,c as weightToStyle};
