/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

"use strict";var e=require("@googleforcreators/patterns"),t=require("../customConstants.js"),r=require("../styleManipulation.js"),o=require("./util.js");const n=r=>e.getSolidFromHex(o.getVariable(r,t.COLOR)),l=r=>`${t.COLOR}-${e.getHexFromSolid(r)}`;const s={elementToStyle:function(t){const r="span"===t.tagName.toLowerCase(),o=t.style.color,n=Boolean(o);if(r&&n){const t=e.createSolidFromString(o);return l(t)}return null},stylesToCSS:function(r){const l=r.find((e=>o.isStyle(e,t.COLOR)));if(!l)return null;let s;try{s=n(l)}catch(e){return null}return e.generatePatternStyles(s,"color")},autoFocus:!1,getters:{color:function(o){const l=r.getPrefixStylesInSelection(o,t.COLOR);if(l.length>1)return t.MULTIPLE_VALUE;const s=l[0];return s===t.NONE?e.createSolid(0,0,0):n(s)}},setters:{setColor:function(o,n){const s=e.isPatternEqual(e.createSolid(0,0,0),n);return r.togglePrefixStyle(o,t.COLOR,(()=>!s),(()=>l(n)))}}};module.exports=s;
