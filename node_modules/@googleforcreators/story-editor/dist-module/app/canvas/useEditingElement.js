/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import{useMemo as e,useReducer as t,useState as n,useCallback as i,useRef as l}from"@googleforcreators/react";function d(){const[d,g]=t(E,{editingElement:null,editingElementState:{}}),[m,r]=n({}),o=i((()=>{g({editingElement:null})}),[]),a=i((e=>{g({editingElement:e})}),[]),u=i(((e,t)=>{g({editingElement:e,editingElementState:t})}),[]),c=i(((e,t)=>r((n=>({...n,[e]:t})))),[r]),s=l(null);s.current=m;const S=i((e=>s.current[e]),[]),{editingElement:f,editingElementState:h}=d;return e((()=>({nodesById:m,editingElement:f,editingElementState:h,setEditingElementWithState:u,setEditingElementWithoutState:a,clearEditing:o,getNodeForElement:S,setNodeForElement:c})),[m,f,h,u,a,o,S,c])}function E(e,t){let{editingElement:n,editingElementState:i={}}=t;return{...e,editingElement:n,editingElementState:i}}export{d as default};
