/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import e from"react";import{ContextMenu as t,ContextMenuComponents as o,Tooltip as r,noop as i}from"@googleforcreators/design-system";import{__}from"@googleforcreators/i18n";import p from"styled-components";import{rgba as s}from"polished";import{Fragment as a}from"@googleforcreators/react";import"@googleforcreators/transform";import"../dropTargets/provider.js";import"../dropTargets/context.js";import"../../app/history/historyProvider.js";import"../../app/history/context.js";import"prop-types";import"@googleforcreators/templates";import"../../app/config/context.js";import"../../app/api/context.js";import"@googleforcreators/fonts";import"@googleforcreators/dom";import{ZOOM_SETTING as n}from"../../constants/index.js";import"../../app/font/context.js";import"@googleforcreators/media";import"@googleforcreators/tracking";import"@googleforcreators/animation";import"uuid";import"@googleforcreators/masks";import"@googleforcreators/element-library";import"@googleforcreators/elements";import"../../app/story/context.js";import"@googleforcreators/migration";import"../../app/story/actions/useSaveStory.js";import"clone-deep";import"../../app/story/useStoryReducer/useStoryReducer.js";import"@googleforcreators/output";import"../../app/story/storyTriggers/storyTriggersProvider.js";import"../../app/story/storyTriggers/storyEvents/onInitialElementAddedRegister.js";import"../../app/story/storyTriggers/storyEvents/onPageAddedRegister.js";import"../../app/media/useUploadMedia.js";import"@googleforcreators/patterns";import"../../utils/generateBlurhash.worker.js";import"../../app/media/media3p/providerConfiguration.js";import"../../app/media/utils/useFFmpeg.js";import"../../app/media/media3p/api/context.js";import"../../app/media/local/constants.js";import"../../app/media/media3p/providerReducer.js";import"../../app/media/context.js";import"sat";import"@googleforcreators/units";import m from"../../app/layout/useLayout.js";import"../../app/layout/context.js";import"../../app/layout/useZoomSetting.js";import"@googleforcreators/rich-text";import"@googleforcreators/stickers";import"../library/panes/text/textPresets.js";import"../../app/canvas/context.js";import"../../app/currentUser/context.js";import"../../app/helpCenter/provider.js";import"../../app/helpCenter/context.js";import"../helpCenter/constants.js";import"../../app/rightClickMenu/context.js";import"../../app/highlights/styles.js";import"../../app/highlights/context.js";import"../../app/highlights/states.js";import"../../app/highlights/quickActions/constants.js";import l,{MediaPicker as c}from"../../app/highlights/quickActions/useQuickActions.js";import{Z_INDEX_CANVAS_SIDE_MENU as g}from"../../constants/zIndex.js";import d from"./pagemenu/pageMenu.js";function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},u.apply(this,arguments)}const f=p.section.withConfig({displayName:"pageSideMenu__MenusWrapper",componentId:"sc-sll2i1-0"})(["position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:space-between;z-index:",";pointer-events:auto;min-height:100%;pointer-events:none;",""],g,(e=>{let{isZoomed:t,theme:o}=e;return t&&`\n    min-height: initial;\n    background-color: ${s(o.colors.standard.black,.45)};\n    border-radius: ${o.borders.radius.small};\n    padding: 8px;\n    margin-left: -24px;\n  `})),h=p.div.withConfig({displayName:"pageSideMenu__Divider",componentId:"sc-sll2i1-1"})(["width:20px;height:1px;margin:13px auto 1px;background-color:",";"],(e=>{let{theme:t}=e;return t.colors.divider.primary})),j=p(t).withConfig({displayName:"pageSideMenu__StyledContextMenu",componentId:"sc-sll2i1-2"})(["pointer-events:all;"]);function PageSideMenu(){const{zoomSetting:t}=m((e=>{let{state:{zoomSetting:t}}=e;return{zoomSetting:t}})),p=l(),s=t!==n.FIT;return e.createElement(f,{"aria-label":__("Page side menu","web-stories"),isZoomed:s},p.length?e.createElement(j,{isInline:!0,isAlwaysVisible:!0,isIconMenu:!0,disableControlledTabNavigation:!0,"data-testid":"Element quick actions","aria-label":__("Group of available options for selected element","web-stories"),onMouseDown:e=>{e.stopPropagation()}},p.map((t=>{let{Icon:p,label:s,onClick:n,separator:m,tooltipPlacement:l,wrapWithMediaPicker:g,...d}=t;const f=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return e.createElement(a,{key:s},"top"===m&&e.createElement(o.MenuSeparator,null),e.createElement(r,{placement:l,title:s},e.createElement(o.MenuButton,u({"aria-label":s,onClick:e=>{n(e),t(e)}},d),e.createElement(o.MenuIcon,{title:s},e.createElement(p,null)))),"bottom"===m&&e.createElement(o.MenuSeparator,null))};return g?e.createElement(c,{key:s,render:e=>{let{onClick:t}=e;return f(t)}}):f()}))):null,s&&e.createElement(h,null),e.createElement(d,null))}export{PageSideMenu as default};
