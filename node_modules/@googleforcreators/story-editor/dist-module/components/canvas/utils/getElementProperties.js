/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import t from"@googleforcreators/stickers";import{dataPixels as e}from"@googleforcreators/units";import{getDefinitionForType as o}from"@googleforcreators/elements";import{DEFAULT_MASK as r}from"@googleforcreators/masks";import i from"../../../utils/getInsertedElementSize.js";function s(t){return"number"==typeof t}function a(a,c){let{resource:l,x:f,y:g,width:m,height:n,mask:h,rotationAngle:p=0,scale:u=100,focalX:d=50,focalY:k=50,sticker:w,...y}=c;const{isMaskable:x}=o(a),b={type:a,...y},A=w&&t?.[w?.type]?.aspectRatio,X=l&&s(l.width)&&s(l.height)?l.width/l.height:1,Y=i(a,m,n,b,A||X,l);return m=Y.width,n=Y.height,s(f)||(f=48),s(g)||(g=0),f=e(f),g=e(g),{...b,resource:l,x:f,y:g,width:m,height:n,rotationAngle:p,scale:u,focalX:d,focalY:k,...x?{mask:h||r}:{},...w?{sticker:w}:{}}}export{a as default};
