/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import t from"react";import{__}from"@googleforcreators/i18n";import"prop-types";import{useEffect as o}from"@googleforcreators/react";import"uuid";import"@googleforcreators/design-system";import{PANEL_STATES as e}from"../../tablist/constants.js";import"../../tablist/styles.js";import{ISSUE_TYPES as r}from"../constants.js";import{useCategoryCount as i,ChecklistCategoryProvider as n}from"../countContext/checkCountContext.js";import{StyledTablistPanel as s,PanelText as c}from"../styles.js";import{useCheckpoint as a}from"../checkpointContext/checkpointContext.js";import{useIsChecklistMounted as m}from"../popupMountedContext.js";function PriorityPanel(o){let{children:r,badgeCount:i=0,isOpen:n,onClick:a,maxHeight:p,title:l}=o;return m()?t.createElement(s,{badgeCount:i,isExpanded:Boolean(i)&&n,onClick:a,maxHeight:p,status:e.DANGER,title:l},t.createElement(c,null,__("Make this Web Story easier to discover.","web-stories")),r):r}function PriorityChecks(e){const s=i(r.PRIORITY),{updateHighPriorityCount:c}=a((t=>{let{actions:{updateHighPriorityCount:o}}=t;return{updateHighPriorityCount:o}}));return o((()=>{c(s)}),[c,s]),t.createElement(n,{category:r.PRIORITY},t.createElement(PriorityPanel,e,e.children))}export{PriorityChecks};
