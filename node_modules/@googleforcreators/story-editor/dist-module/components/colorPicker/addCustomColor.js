/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import o from"react";import{useCallback as t}from"@googleforcreators/react";import"prop-types";import r from"styled-components";import"@googleforcreators/patterns";import{Button as e,BUTTON_TYPES as s,BUTTON_SIZES as l,BUTTON_VARIANTS as a}from"@googleforcreators/design-system";import{__}from"@googleforcreators/i18n";import p from"../../app/story/useStory.js";import i from"../../utils/getUniquePresets.js";const m=r(e).withConfig({displayName:"addCustomColor__StyledButton",componentId:"sc-4t2ps2-0"})(["flex:0 0 32px;margin:0 16px 16px;"]);function AddCustomColor(r){let{color:e,onSave:n}=r;const{updateStory:y,globalStoryStyles:c}=p((o=>{let{state:{story:{globalStoryStyles:t}},actions:{updateStory:r}}=o;return{globalStoryStyles:t,updateStory:r}})),d=t((()=>{y({properties:{globalStoryStyles:{...c,colors:i([...c.colors,e].filter(Boolean))}}}),n()}),[n,e,c,y]);return o.createElement(m,{onClick:d,type:s.SECONDARY,size:l.SMALL,variant:a.RECTANGLE},__("Add to Saved Colors","web-stories"))}export{AddCustomColor as default};
