/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import e from"react";import{useRef as t}from"@googleforcreators/react";import"prop-types";import o from"styled-components";import{__,sprintf}from"@googleforcreators/i18n";import{generatePatternStyles as r}from"@googleforcreators/patterns";import{themeHelpers as n}from"@googleforcreators/design-system";import i from"./pointer.js";import s from"./gradientStop.js";import p from"./useKeyMoveStop.js";import a from"./useKeyAddStop.js";import m from"./useKeyDeleteStop.js";import l from"./useKeyFocus.js";import d from"./usePointerAddStop.js";import c from"./usePointerMoveStop.js";import{LINE_LENGTH as f,LINE_WIDTH as g}from"./constants.js";const u=o.div.withConfig({displayName:"gradientLine__Line",componentId:"sc-1k22wp0-0"})([""," width:","px;height:","px;border-radius:2px;position:relative;&:focus{outline:none;}"],n.transparentBg,f,g),y=o.div.attrs((e=>{let{stops:t}=e;return{style:r({type:"linear",stops:t,rotation:.25})}})).withConfig({displayName:"gradientLine__Background",componentId:"sc-1k22wp0-1"})(["position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;"]),h=o(i).attrs((e=>{let{x:t}=e;return{style:{left:`${t}px`},offsetX:-g/2}})).withConfig({displayName:"gradientLine__TempPointer",componentId:"sc-1k22wp0-2"})(["height:","px;width:","px;opacity:0.6;top:1px;pointer-events:none;"],g-2,g-2);function GradientLine(o){let{stops:r,currentStopIndex:n,onSelect:x,onAdd:w,onDelete:S,onMove:j}=o;const v=t();p(v,j),a(v,w,r,n),m(v,S);const b=l(v,r,n);c(v,j);const L=d(v,w);return e.createElement(u,{ref:v,"aria-label":__("Gradient line","web-stories"),tabIndex:"-1"},e.createElement(y,{stops:r}),r.map(((t,o)=>{let{position:r,color:p}=t;return e.createElement(s,{ref:e=>b[o].current=e,key:o,index:o,isSelected:o===n,position:r,onSelect:x,color:{color:p}},e.createElement(i,{offsetX:-g/2}))})),L&&e.createElement(h,{"aria-label":sprintf(
/* translators: %d: stop percentage */
__("Temporary gradient stop at %d%%","web-stories"),Math.round(L/f*100)),x:L}))}export{GradientLine as default};
