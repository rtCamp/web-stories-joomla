/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import e from"react";import{forwardRef as t}from"@googleforcreators/react";import o from"prop-types";import r,{css as i}from"styled-components";import{sprintf,__}from"@googleforcreators/i18n";import{generatePatternStyles as n}from"@googleforcreators/patterns";import{themeHelpers as s,Icons as p}from"@googleforcreators/design-system";import{LINE_LENGTH as a,LINE_WIDTH as l,GRADIENT_STOP_SIZE as c}from"./constants.js";const d=r.button.attrs((e=>{let{position:t}=e;return{style:{right:t*a-l/2+"px"}}})).withConfig({displayName:"gradientStop__Stop",componentId:"sc-1kqiqwc-0"})(["position:absolute;top:-","px;background:transparent;border:0;padding:0;&:focus{outline:none;}"],10+c),m=i(["position:absolute;left:0;top:0;width:100%;height:100%;"]),f=r.div.withConfig({displayName:"gradientStop__Background",componentId:"sc-1kqiqwc-1"})([""," ",""],m,(e=>{let{color:t}=e;return n(t)})),g=r.div.withConfig({displayName:"gradientStop__Transparent",componentId:"sc-1kqiqwc-2"})([""," width:100%;height:100%;position:absolute;top:0;"],s.transparentBg),u=r.div.withConfig({displayName:"gradientStop__StopPointer",componentId:"sc-1kqiqwc-3"})(["transform:translate(",",0);width:","px;height:","px;border-radius:2px;overflow:hidden;"],(e=>{let{offset:t}=e;return`${t}px`}),c,c),h=r.div.withConfig({displayName:"gradientStop__IconWrapper",componentId:"sc-1kqiqwc-4"})(["position:absolute;left:-","px;top:-8px;color:",";svg{width:32px;height:32px;}"],10,(e=>{let{theme:t,isSelected:o}=e;return o?t.colors.fg.primary:t.colors.fg.tertiary}));const w=t((function GradientStopWithRef(t,o){let{position:r,index:i,isSelected:n,color:s,onSelect:a}=t;return e.createElement(d,{ref:o,key:i,isSelected:n,position:r,onFocus:()=>a(i),onClick:()=>a(i),"aria-label":sprintf(
/* translators: %d: stop percentage */
__("Gradient stop at %d%%","web-stories"),Math.round(100-100*r))},e.createElement(h,{isSelected:n},e.createElement(p.TailedRectangle,null)),e.createElement(u,{offset:-1},e.createElement(g,null),e.createElement(f,{color:s})))}));w.propTypes={position:o.number.isRequired,index:o.number.isRequired,isSelected:o.bool.isRequired,color:o.object.isRequired,onSelect:o.func.isRequired};export{w as default};
