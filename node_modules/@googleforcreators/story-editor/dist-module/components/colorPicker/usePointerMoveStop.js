/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import{useRef as e,useLayoutEffect as t}from"@googleforcreators/react";import{LINE_LENGTH as r}from"./constants.js";import{getPageX as n,setPointerCapture as o,releasePointerCapture as i}from"./utils.js";function s(s,a){const u=e(null);t((()=>{const e=s.current,t=e=>{const t=n(e)-u.current;u.current=n(e),a(-t/r)},c=e=>{u.current=null,i(e),e.target.removeEventListener("pointermove",t),e.target.removeEventListener("pointerup",c)},p=r=>{r.target!==e&&(u.current=n(r),o(r),r.target.addEventListener("pointermove",t),r.target.addEventListener("pointerup",c))};return e.addEventListener("pointerdown",p),()=>e.removeEventListener("pointerdown",p)}),[s,a])}export{s as default};
