/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import t from"react";import e from"styled-components";import{useRef as o,useCallback as r,useEffect as s}from"@googleforcreators/react";import"prop-types";import i from"../keyboardShortcutsMenu/index.js";import{HelpCenter as p}from"../helpCenter/index.js";import"@googleforcreators/transform";import"../dropTargets/provider.js";import"../dropTargets/context.js";import"../../app/history/historyProvider.js";import"../../app/history/context.js";import"@googleforcreators/templates";import"../../app/config/context.js";import"../../app/api/context.js";import"@googleforcreators/fonts";import"@googleforcreators/dom";import"../../constants/fonts.js";import"../../constants/multipleValue.js";import"../../app/font/context.js";import"@googleforcreators/media";import"@googleforcreators/tracking";import"@googleforcreators/animation";import"uuid";import"@googleforcreators/masks";import"@googleforcreators/element-library";import"@googleforcreators/elements";import"../../app/story/context.js";import"@googleforcreators/migration";import"../../app/story/actions/useSaveStory.js";import"clone-deep";import"../../app/story/useStoryReducer/useStoryReducer.js";import"@googleforcreators/output";import"../../app/story/storyTriggers/storyTriggersProvider.js";import"../../app/story/storyTriggers/storyEvents/onInitialElementAddedRegister.js";import"../../app/story/storyTriggers/storyEvents/onPageAddedRegister.js";import"@googleforcreators/i18n";import"../../app/media/useUploadMedia.js";import"@googleforcreators/patterns";import"../../utils/generateBlurhash.worker.js";import"@googleforcreators/design-system";import"../../app/media/media3p/providerConfiguration.js";import"../../app/media/utils/useFFmpeg.js";import"../../app/media/media3p/api/context.js";import"../../app/media/local/constants.js";import"../../app/media/media3p/providerReducer.js";import"../../app/media/context.js";import"sat";import"@googleforcreators/units";import"../../app/layout/context.js";import"../../app/layout/useZoomSetting.js";import"@googleforcreators/rich-text";import"@googleforcreators/stickers";import"../library/panes/text/textPresets.js";import"../../app/canvas/context.js";import n from"../../app/canvas/useCanvas.js";import"../../app/currentUser/context.js";import"../../app/helpCenter/provider.js";import{useHelpCenter as c}from"../../app/helpCenter/useHelpCenter/index.js";import"../helpCenter/constants.js";import"../../app/rightClickMenu/context.js";import"../checklist/checklistContext/context.js";import{useChecklist as a}from"../checklist/checklistContext/useChecklist.js";import{useCheckpoint as m}from"../checklist/checkpointContext/checkpointContext.js";import"../checklist/countContext/checkCountContext.js";import{Checklist as l}from"../checklist/checklist.js";import"../../app/highlights/styles.js";import"../../app/highlights/context.js";import"../../app/highlights/states.js";import"../../app/highlights/quickActions/constants.js";import"../../app/highlights/quickActions/useQuickActions.js";import"../checklist/constants.js";import"../checklistCard/styles.js";import"../checklist/checks/shared/thumbnailWrapper.js";import"../checklistCard/constants.js";import"../thumbnail/constants.js";import"../thumbnail/styles.js";import"../../types.js";import"./pagepreview/index.js";import"@ap.cx/hues";import"../checklist/checks/videoOptimization.js";import"../keyboardShortcutsMenu/keyboardShortcutsMenuContext/context.js";import{useKeyboardShortcutsMenu as u}from"../keyboardShortcutsMenu/keyboardShortcutsMenuContext/useKeyboardShortcutsMenu.js";import{FOOTER_MARGIN as g,FOOTER_MENU_GAP as h}from"./constants.js";const d=e.div.withConfig({displayName:"secondaryMenu__Wrapper",componentId:"sc-4921wn-0"})(["display:flex;align-items:flex-end;justify-content:flex-start;width:100%;height:100%;"]),j=e.div.withConfig({displayName:"secondaryMenu__MenuItems",componentId:"sc-4921wn-1"})(["position:relative;display:flex;flex-direction:row;align-items:center;margin-left:","px;gap:","px;"],g,h),f="help_center",y="checklist",k="keyboard_shortcuts";function SecondaryMenu(e){let{menu:g}=e;const h=o(""),{close:x,isHelpCenterOpen:C}=c((t=>{let{actions:{close:e},state:{isOpen:o}}=t;return{close:e,isHelpCenterOpen:o}})),{close:v,open:M,isChecklistOpen:S}=a((t=>{let{actions:{close:e,open:o},state:{isOpen:r}}=t;return{close:e,open:o,isChecklistOpen:r}})),{close:b,isKeyboardShortcutsMenuOpen:w}=u((t=>{let{actions:{close:e},state:{isOpen:o}}=t;return{close:e,isKeyboardShortcutsMenuOpen:o}})),{handleResetReviewChecklist:R,reviewChecklistRequested:E}=m((t=>{let{actions:{handleResetReviewChecklist:e},state:{reviewChecklistRequested:o}}=t;return{reviewChecklistRequested:o,handleResetReviewChecklist:e}})),O=n((t=>{let{state:{editingElementState:{isTrimMode:e},isEditing:o}}=t;return e||o})),T=r((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";h.current=t}),[]);return s((()=>{S&&h.current!==y&&(x(),b(),T(y))}),[x,b,S,T]),s((()=>{C&&h.current!==f&&(v(),b(),T(f))}),[v,b,C,T]),s((()=>{w&&h.current!==k&&(v(),x(),T(k))}),[v,x,w,T]),s((()=>{E&&(T(),R(),M())}),[E,R,M,T]),s((()=>{O&&h.current&&(T(),v(),x())}),[v,x,O,T]),t.createElement(d,null,t.createElement(j,null,t.createElement(p,{components:g?.helpCenter}),g?.checklist&&t.createElement(l,{items:g.checklist}),t.createElement(i,null)))}export{SecondaryMenu as default};
