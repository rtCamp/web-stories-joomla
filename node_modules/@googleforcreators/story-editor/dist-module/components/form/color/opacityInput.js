/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import t from"react";import{useState as r,useCallback as o,useEffect as e}from"@googleforcreators/react";import n,{css as a}from"styled-components";import"prop-types";import{__,_x}from"@googleforcreators/i18n";import"@googleforcreators/patterns";import{NumericInput as i,Icons as p}from"@googleforcreators/design-system";import{inputContainerStyleOverride as s}from"../../panels/shared/styles.js";import c from"./getPreviewOpacity.js";function l(){return l=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e])}return t},l.apply(this,arguments)}const m=n(i).withConfig({displayName:"opacityInput__Input",componentId:"sc-xy6710-0"})(["min-width:100px;div{background-color:transparent;}"]),f=a(["",";width:76px;padding-right:6px;"],s);function OpacityInput(n){let{value:a,onChange:i,isInDesignMenu:g,...u}=n;const[y,d]=r(""),h=o(((t,r)=>{d(r),isNaN(r)||i(r/100)}),[i]),v=o((()=>d(c(a))),[a]);e((()=>v()),[v,a]);const w=g?f:s;return t.createElement(m,l({"aria-label":__("Opacity","web-stories"),onChange:h,value:y,unit:_x("%","Percentage","web-stories"),suffix:t.createElement(p.ColorDrop,null),min:0,max:100,allowEmpty:!1,isFloat:!1,containerStyleOverride:w},u))}export{OpacityInput as default};
