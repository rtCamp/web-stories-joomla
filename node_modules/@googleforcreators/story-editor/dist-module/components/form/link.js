/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import r from"react";import"prop-types";import{forwardRef as e}from"@googleforcreators/react";import{__}from"@googleforcreators/i18n";import{Input as o}from"@googleforcreators/design-system";import{isValidUrl as t,withProtocol as n}from"@googleforcreators/url";import{inputContainerStyleOverride as s}from"../panels/shared/styles.js";import a from"./row.js";function l(){return l=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t])}return r},l.apply(this,arguments)}const i={MIN:2,MAX:2048},c=e((function LinkInput(e,c){let{onChange:m,onBlur:p,onFocus:f,value:g="",hint:u,hasError:h,...d}=e;const v=(g||"").trim(),y=t(n(v)),b=v.length>0&&!y;return r.createElement(a,null,r.createElement(o,l({ref:c,placeholder:__("Web address","web-stories"),onChange:r=>m(r.target.value),onBlur:()=>{if(v?.length){const r=n(v);r!==v&&m(r)}p&&p()},onFocus:f,value:g||"",minLength:i.MIN,maxLength:i.MAX,hasError:b||h,hint:b?__("Invalid web address.","web-stories"):u,containerStyleOverride:s},d)))}));export{c as default};
