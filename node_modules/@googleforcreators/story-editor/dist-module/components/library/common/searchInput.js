/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import e from"react";import"prop-types";import{useState as r,useDebouncedCallback as t,useCallback as a}from"@googleforcreators/react";import{__}from"@googleforcreators/i18n";import o from"styled-components";import{SearchInput as n}from"@googleforcreators/design-system";import{focusStyle as l}from"../../panels/shared/styles.js";const p=o(n).withConfig({displayName:"searchInput__StyledSearchInput",componentId:"sc-145nauf-0"})(["input{",";}"],l);function WrappedSearchInput(o){let{initialValue:n,placeholder:l,onSearch:s,disabled:i=!1,incremental:c=!1,delayMs:m=500}=o;const[d,u]=r(n),f=t((()=>{s(d)}),m),h=a((e=>{c&&m?f():s(e)}),[f,s,m,c]),g=a((e=>{const r=e.target.value;u(r),(c||""===r)&&h(r)}),[h,c]),S=a((()=>{u(""),h("")}),[h]),b=a((e=>{e.preventDefault(),h(d)}),[h,d]),y=d.length>0;return e.createElement("form",{onSubmit:b},e.createElement(p,{inputValue:d,placeholder:l,onChange:g,handleClearInput:S,disabled:i,ariaClearLabel:__("Clear Search","web-stories"),isOpen:y,"aria-label":__("Search","web-stories")}))}export{WrappedSearchInput as default};
