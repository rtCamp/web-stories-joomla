/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import t from"react";import o from"styled-components";import{__}from"@googleforcreators/i18n";import{useCallback as r}from"@googleforcreators/react";import{trackEvent as e}from"@googleforcreators/tracking";import s from"../tabview/index.js";import"../../app/highlights/styles.js";import i from"../../app/highlights/useHighlights.js";import"prop-types";import"../../constants/fonts.js";import"../../constants/multipleValue.js";import"@googleforcreators/animation";import"uuid";import"@googleforcreators/masks";import"@googleforcreators/element-library";import"@googleforcreators/elements";import"../../app/story/context.js";import"@googleforcreators/migration";import"@googleforcreators/templates";import"../../app/config/context.js";import"../../app/api/context.js";import"../../app/history/historyProvider.js";import"../../app/history/context.js";import"../../app/story/actions/useSaveStory.js";import"clone-deep";import"../../app/story/useStoryReducer/useStoryReducer.js";import"@googleforcreators/output";import"../../app/story/storyTriggers/storyTriggersProvider.js";import"../../app/story/storyTriggers/storyEvents/onInitialElementAddedRegister.js";import"../../app/story/storyTriggers/storyEvents/onPageAddedRegister.js";import"../../app/highlights/context.js";import a from"../../app/highlights/states.js";import"../../app/highlights/quickActions/constants.js";import"../../app/highlights/quickActions/useQuickActions.js";import p from"./libraryPanes.js";import n from"./useLibrary.js";import{getTabId as m,getPaneId as l}from"./panes/shared/index.js";import{MEDIA as g,MEDIA3P as c,TEXT as y}from"./constants.js";const h=o.section.attrs({"aria-label":__("Library","web-stories"),"data-testid":"libraryLayout"}).withConfig({displayName:"libraryLayout__Layout",componentId:"sc-6ze1kl-0"})(["height:100%;display:flex;flex-direction:column;background-color:",";color:",";max-height:100%;"],(t=>{let{theme:o}=t;return o.colors.bg.secondary}),(t=>{let{theme:o}=t;return o.colors.fg.primary})),b=o.nav.attrs({"aria-label":__("Library tabs","web-stories")}).withConfig({displayName:"libraryLayout__TabsArea",componentId:"sc-6ze1kl-1"})(["padding:0 4px;"]),d=o.div.withConfig({displayName:"libraryLayout__LibraryPaneContainer",componentId:"sc-6ze1kl-2"})(["height:100%;min-height:0;"]);function LibraryLayout(){const{setTab:o,tab:f,tabRefs:u,tabs:j}=n((t=>({tab:t.state.tab,tabRefs:t.state.tabRefs,setTab:t.actions.setTab,tabs:t.data.tabs}))),{highlight:E}=i((t=>({highlight:{[g.id]:t[a.MEDIA],[c.id]:t[a.MEDIA3P],[y.id]:t[a.TEXT_SET]}}))),L=r((t=>{o(t),e("library_tab_change",{name:t})}),[o]);return t.createElement(h,null,t.createElement(b,null,t.createElement(s,{label:__("Element Library Selection","web-stories"),tabs:j,tabRefs:u,tab:f,onTabChange:L,onTabRefUpdated:(t,o)=>{const r=E[o];t&&r?.focus&&r?.showEffect&&t.focus()},getTabId:m,getAriaControlsId:l,shortcut:"mod+option+1"})),t.createElement(d,null,t.createElement(p,null)))}export{LibraryLayout as default};
