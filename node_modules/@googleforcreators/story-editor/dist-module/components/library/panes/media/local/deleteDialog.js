/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import e from"react";import"prop-types";import{useCallback as o}from"@googleforcreators/react";import{__}from"@googleforcreators/i18n";import{trackError as t}from"@googleforcreators/tracking";import{useSnackbar as r,Text as i,THEME_CONSTANTS as s}from"@googleforcreators/design-system";import"@googleforcreators/templates";import"../../../../../app/config/context.js";import"../../../../../app/api/context.js";import a from"../../../../../app/api/useAPI.js";import"@googleforcreators/media";import"../../../../../constants/fonts.js";import"../../../../../constants/multipleValue.js";import"@googleforcreators/animation";import"uuid";import"@googleforcreators/masks";import"@googleforcreators/element-library";import"@googleforcreators/elements";import"../../../../../app/story/context.js";import"@googleforcreators/migration";import"../../../../../app/history/historyProvider.js";import"../../../../../app/history/context.js";import"../../../../../app/story/actions/useSaveStory.js";import"clone-deep";import"../../../../../app/story/useStoryReducer/useStoryReducer.js";import"@googleforcreators/output";import"../../../../../app/story/storyTriggers/storyTriggersProvider.js";import"../../../../../app/story/storyTriggers/storyEvents/onInitialElementAddedRegister.js";import"../../../../../app/story/storyTriggers/storyEvents/onPageAddedRegister.js";import p from"../../../../../app/story/useStory.js";import"../../../../../app/media/useUploadMedia.js";import"@googleforcreators/patterns";import"../../../../../utils/generateBlurhash.worker.js";import"../../../../../app/media/media3p/providerConfiguration.js";import"../../../../../app/media/utils/useFFmpeg.js";import"../../../../../app/media/media3p/api/context.js";import"../../../../../app/media/local/constants.js";import"../../../../../app/media/media3p/providerReducer.js";import"../../../../../app/media/context.js";import m from"../../../../../app/media/local/useLocalMedia.js";import l from"../../../../dialog/dialog.js";function DeleteDialog(n){let{mediaId:d,type:c,onClose:g}=n;const{actions:{deleteMedia:y}}=a(),{showSnackbar:u}=r(),{deleteMediaElement:f}=m((e=>{let{actions:{deleteMediaElement:o}}=e;return{deleteMediaElement:o}})),{deleteElementsByResourceId:j}=p((e=>({deleteElementsByResourceId:e.actions.deleteElementsByResourceId}))),E=o((async()=>{g();try{await y(d),f({id:d}),j({id:d})}catch(e){t("local_media_deletion",e.message),u({message:__("Failed to delete media item.","web-stories"),dismissible:!0})}}),[y,f,j,d,g,u]),b=__("Delete Image?","web-stories"),h=__("Delete Video?","web-stories"),S=__("You are about to permanently delete this image from your site. The image will appear broken in any content that uses it. ","web-stories"),w=__("You are about to permanently delete this video from your site. The video will appear broken in any content that uses it. ","web-stories");return e.createElement(l,{isOpen:!0,onClose:g,title:"image"===c?b:h,secondaryText:__("Cancel","web-stories"),onPrimary:E,primaryText:__("Delete","web-stories"),maxWidth:512},e.createElement(i,{size:s.TYPOGRAPHY.PRESET_SIZES.SMALL},"image"===c?S:w),e.createElement(i,{size:s.TYPOGRAPHY.PRESET_SIZES.SMALL,isBold:!0},__("This action can not be undone.","web-stories")))}export{DeleteDialog as default};
