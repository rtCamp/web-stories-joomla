/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import e from"react";import"prop-types";import{useRef as r,useState as o,useEffect as t,useCallback as i}from"@googleforcreators/react";import a from"styled-components";import{useKeyDownEffect as p}from"@googleforcreators/design-system";import d from"../../../../../app/media/useMedia.js";import"../../../../../app/config/context.js";import s from"../../../../../app/config/useConfig.js";import{PROVIDERS as n}from"../../../../../app/media/media3p/providerConfiguration.js";import m from"./providerTab.js";const c=a.div.attrs({role:"tablist"}).withConfig({displayName:"providerTabList__Section",componentId:"sc-19jgogw-0"})(["display:flex;flex-wrap:wrap;margin-top:16px;margin-bottom:16px;padding:0 1em;"]);function ProviderTabList(a){let{providers:l}=a;const{isRTL:f}=s(),v=r(),{selectedProvider:g,setSelectedProvider:u}=d((e=>{let{media3p:{state:{selectedProvider:r},actions:{setSelectedProvider:o}}}=e;return{selectedProvider:r,setSelectedProvider:o}})),[b,x]=o(0),P=l.length;t((()=>x(l.indexOf(g))),[l,g]);const y=i((e=>{if(!v.current)return;v.current.children[e].focus()}),[]),j=i((()=>u({provider:l[b]})),[b,u,l]),h=f?-1:1;return p(v,"left",(()=>y((b-h+P)%P)),[y,b,h,P]),p(v,"right",(()=>y((b+h+P)%P)),[y,b,h,P]),p(v,"home",(()=>y(0)),[y]),p(v,"end",(()=>y(P-1)),[y,P]),p(v,["enter","space"],j,[j]),e.createElement(c,{ref:v},l.map(((r,o)=>e.createElement(m,{key:r,index:o,name:n[r].displayName,isActive:g===r,onClick:()=>u({provider:r}),onFocus:()=>x(o),tabIndex:g===r?0:-1,role:"tab",id:`provider-tab-${r}`,"aria-controls":`provider-tabpanel-${r}`}))))}export{ProviderTabList as default};
