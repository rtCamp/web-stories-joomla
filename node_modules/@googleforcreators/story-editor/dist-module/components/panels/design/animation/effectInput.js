/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import e from"react";import{useCallback as t}from"@googleforcreators/react";import"prop-types";import r,{css as o}from"styled-components";import{__}from"@googleforcreators/i18n";import{NumericInput as a,DropDown as n,ThemeGlobals as l}from"@googleforcreators/design-system";import{FIELD_TYPES as s}from"@googleforcreators/animation";import{inputContainerStyleOverride as i}from"../../shared/styles.js";import{DirectionRadioInput as p}from"./directionRadioInput.js";import{INPUT_HEIGHT as c}from"./constants.js";const u=o(["border-radius:0;border-color:"," transparent transparent transparent;"],(e=>{let{theme:t}=e;return t.colors.border.defaultNormal})),d=r(a).withConfig({displayName:"effectInput__StyledInput",componentId:"sc-1gnssiy-0"})(["height:","px;div{height:calc(100% + 1px);"," &:focus-within{border-radius:",";}}"],c,u,(e=>{let{theme:t}=e;return t.borders.radius.small})),f=r(n).withConfig({displayName:"effectInput__StyledDropDown",componentId:"sc-1gnssiy-1"})(["button{height:46px;"," &:hover{","}&.",",&[","]{border-radius:",";}}"],u,u,l.FOCUS_VISIBLE_SELECTOR,l.FOCUS_VISIBLE_DATA_ATTRIBUTE,(e=>{let{theme:t}=e;return t.borders.radius.small}));function EffectInput(r){let{effectProps:o,effectConfig:a,field:n,onChange:l,disabledOptions:c,tooltip:u}=r;const m=t((e=>l(e,!0)),[l]),g=a[n]??o[n].defaultValue,h=o[n].type===s.FLOAT;switch(o[n].type){case s.DROPDOWN:return e.createElement(f,{options:(o[n].values||[]).map((e=>{let{name:t,...r}=e;return{...r,label:t,disabled:c.includes(r.value)}})),placeholder:__("Select a value","web-stories"),ariaLabel:__("Select effect value","web-stories"),isKeepMenuOpenOnSelection:!1,selectedValue:g,onMenuItemClick:e=>l(e.target.value,!0)});case s.DIRECTION_PICKER:return e.createElement(p,{value:g,directions:o[n].values,onChange:m,disabled:c,tooltip:u});default:return e.createElement(d,{"aria-label":o[n].label,suffix:o[n].label,unit:o[n].unit,value:g,min:0,onChange:e=>l(h?parseFloat(e.target.value):parseInt(e.target.value),!0),isFloat:h,containerStyleOverride:i})}}export{EffectInput as default};
