/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import t from"react";import"prop-types";import{useCallback as e}from"@googleforcreators/react";import o from"styled-components";import{__}from"@googleforcreators/i18n";import{LockToggle as r,Icons as i}from"@googleforcreators/design-system";import{canSupportMultiBorder as a}from"@googleforcreators/masks";import s from"../../../form/stackable/stackableGroup.js";import n from"../../../form/stackable/stackableInput.js";import l from"../../shared/useCommonObjectValue.js";import{focusStyle as m}from"../../shared/styles.js";import c from"../../../tooltip/tooltip.js";import"../../../../constants/fonts.js";import{MULTIPLE_VALUE as p,MULTIPLE_DISPLAY_VALUE as d}from"../../../../constants/multipleValue.js";const f={topLeft:0,topRight:0,bottomRight:0,bottomLeft:0,locked:!0},g=o.div.withConfig({displayName:"radius__FlexContainer",componentId:"sc-10ryvqs-0"})(["display:flex;"]),u=o.div.withConfig({displayName:"radius__LockContainer",componentId:"sc-10ryvqs-1"})(["position:relative;display:flex;align-items:center;width:32px;margin-left:8px;"]),h=o(r).withConfig({displayName:"radius__StyledLockToggle",componentId:"sc-10ryvqs-2"})(["",";"],m),b=o(i.Corner).withConfig({displayName:"radius__TopLeft",componentId:"sc-10ryvqs-3"})(["transform:rotate(90deg);"]),L=o(i.Corner).withConfig({displayName:"radius__TopRight",componentId:"sc-10ryvqs-4"})(["transform:rotate(180deg);"]),R=o(i.Corner).withConfig({displayName:"radius__BottomRight",componentId:"sc-10ryvqs-5"})(["transform:rotate(270deg);"]);function RadiusControls(o){let{selectedElements:r,pushUpdateForObject:m}=o;const y=l(r,"borderRadius",f),C=r.every((t=>a(t))),k=!0===y.locked,E=e(((t,e)=>{m("borderRadius",k?{topLeft:e,topRight:e,bottomRight:e,bottomLeft:e}:{[t]:e},f,!0)}),[m,k]),v=e((t=>{const e=t?{locked:t,topLeft:y.topLeft,topRight:y.topLeft,bottomRight:y.topLeft,bottomLeft:y.topLeft}:{locked:t};m("borderRadius",e,f,!0)}),[m,y]);if(!C)return null;const w=__(k?"Corner Radius":"Top left corner radius","web-stories");return t.createElement(g,null,t.createElement(s,{locked:k},t.createElement(n,{suffix:t.createElement(b,null),value:y.topLeft===p?"":y.topLeft,"aria-label":w,onChange:(t,e)=>E("topLeft",e),placeholder:y.topLeft===p?d:"",isIndeterminate:y.topLeft===p}),!k&&t.createElement(t.Fragment,null,t.createElement(n,{suffix:t.createElement(L,null),value:y.topRight===p?"":y.topRight,"aria-label":__("Top right corner radius","web-stories"),onChange:(t,e)=>E("topRight",e),placeholder:y.topRight===p?d:"",isIndeterminate:y.topRight===p}),t.createElement(n,{value:y.bottomLeft===p?"":y.bottomLeft,"aria-label":__("Bottom left corner radius","web-stories"),onChange:(t,e)=>E("bottomLeft",e),placeholder:y.bottomLeft===p?d:"",suffix:t.createElement(i.Corner,null),isIndeterminate:y.bottomLeft===p}),t.createElement(n,{value:y.bottomRight===p?"":y.bottomRight,"aria-label":__("Bottom right corner radius","web-stories"),onChange:(t,e)=>E("bottomRight",e),placeholder:y.bottomRight===p?d:"",suffix:t.createElement(R,null),isIndeterminate:y.bottomRight===p}))),t.createElement(u,null,t.createElement(c,{title:__("Toggle consistent corner radius","web-stories"),key:y.locked.toString()},t.createElement(h,{isLocked:y.locked,onClick:()=>v(!y.locked),"aria-label":__("Toggle consistent corner radius","web-stories")}))))}export{f as DEFAULT_BORDER_RADIUS,RadiusControls as default};
