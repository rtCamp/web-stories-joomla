/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import{useRef as e,useState as t,useCallback as r,useLayoutEffect as n}from"@googleforcreators/react";function o(o,i,p){const a=e(),[s,d]=t(!1),u=r((e=>{const t=a.current-e.pageY;i(t),a.current=e.pageY}),[i]),v=r((e=>{e.target.releasePointerCapture(e.pointerId),d(!1),p()}),[p]),c=r((e=>{e.target.setPointerCapture(e.pointerId),a.current=e.pageY,d(!0)}),[]);n((()=>{const e=o.current;return e.addEventListener("pointerdown",c),s&&(e.addEventListener("pointermove",u),e.addEventListener("pointerup",v)),()=>{e.removeEventListener("pointerdown",c),s&&(e.removeEventListener("pointermove",u),e.removeEventListener("pointerup",v))}}),[s,v,u,c,o])}export{o as default};
