/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import{useState as t,useBatchingCallback as o,useCallback as r,useEffect as l}from"@googleforcreators/react";function n(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"horizontal",e=arguments.length>1?arguments[1]:void 0,c=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;const[s,a]=t(!1),[h,f]=t(!1),[d,u]=t(0),g=o((()=>{const t=c.current;if(t)if("horizontal"===n){const o=t.scrollWidth-t.clientWidth;o<=0?(a(!1),f(!1)):(a(t.scrollLeft>0),f(t.scrollLeft<o))}else{const o=t.scrollHeight-t.clientHeight;o<=0?(a(!1),f(!1)):(a(t.scrollTop>0),f(t.scrollTop<o))}}),[n,c]),m=r((t=>(u(t),()=>u(0))),[u]),p=e&&s,v=e&&h;return l((()=>{if(0===d||!(p&&d<0||v&&d>0))return;let t=!0;const o=()=>{const r=Math.max(Math.min(.2*i,10),0);"horizontal"===n?c.current.scrollLeft+=d*r:c.current.scrollTop+=d*r,g(),t&&window.requestAnimationFrame(o)};return o(),()=>{t=!1}}),[d,g,p,v,i,n,c]),l((()=>g()),[e,g]),{startScroll:m,canScrollEnd:v,canScrollStart:p}}export{n as default};
