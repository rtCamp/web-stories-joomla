/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import t from"react";import o from"styled-components";import"prop-types";import{__}from"@googleforcreators/i18n";import{generatePatternStyles as e}from"@googleforcreators/patterns";import{Icons as r}from"@googleforcreators/design-system";import{BACKGROUND_TEXT_MODE as s}from"@googleforcreators/elements";import{useState as i}from"@googleforcreators/react";import{stripHTML as n}from"@googleforcreators/dom";import{generatePresetStyle as p}from"../../utils/presetUtils.js";import"../../constants/fonts.js";import"../../constants/multipleValue.js";import"@googleforcreators/animation";import"uuid";import"@googleforcreators/masks";import"@googleforcreators/element-library";import"../../app/story/context.js";import"@googleforcreators/migration";import"@googleforcreators/templates";import"../../app/config/context.js";import"../../app/api/context.js";import"../../app/history/historyProvider.js";import"../../app/history/context.js";import"../../app/story/actions/useSaveStory.js";import"clone-deep";import"../../app/story/useStoryReducer/useStoryReducer.js";import"@googleforcreators/output";import"../../app/story/storyTriggers/storyTriggersProvider.js";import"../../app/story/storyTriggers/storyEvents/onInitialElementAddedRegister.js";import"../../app/story/storyTriggers/storyEvents/onPageAddedRegister.js";import a from"../../app/story/useStory.js";import{focusStyle as l}from"../panels/shared/styles.js";const m=o.button.withConfig({displayName:"styleItem__PresetButton",componentId:"sc-157dmik-0"})(["background-color:",";border-color:transparent;position:relative;cursor:pointer;border-width:0;border-radius:4px;padding:3px;height:100%;width:100%;display:flex;justify-content:center;align-items:center;> svg{width:","px;height:","px;position:absolute;top:calc(50% - ","px);left:calc(50% - ","px);color:",";filter:drop-shadow(0px 0px 4px rgba(0,0,0,0.4));}",""],(t=>{let{theme:o}=t;return o.colors.interactiveBg.secondaryNormal}),32,32,16,16,(t=>{let{theme:o}=t;return o.colors.fg.primary}),l),c=o.span.withConfig({displayName:"styleItem__HighLight",componentId:"sc-157dmik-1"})(["padding:0 2px;"," box-decoration-break:clone;"],(t=>{let{background:o}=t;return e(o)})),d=o.div.withConfig({displayName:"styleItem__TextWrapper",componentId:"sc-157dmik-2"})(["position:relative;display:inline-block;line-height:","px;max-height:","px;overflow:hidden;border-radius:4px;padding:3px;max-width:100%;"," font-size:12px;",""],20,43,(t=>{let{styles:o}=t;return o}),(t=>{let{background:o}=t;return o?e(o):null}));function StyleItem(o){let{style:e,i:l,activeIndex:g,handleOnClick:u,isEditMode:y,activeItemOverlay:f,applyLabel:x=__("Apply style","web-stories")}=o;const b=a((t=>{let{state:o}=t;return o.selectedElements})),[h,k]=i(!1),j=()=>{f&&k(!0)},v=()=>{f&&k(!1)};if(!e)return null;const I=b[0]?.content?n(b[0].content):__("Lorem ipsum dolor sit amet","web-stories");return t.createElement(m,{tabIndex:g===l?0:-1,style:e,onClick:()=>u(e),onPointerEnter:j,onFocus:j,onPointerLeave:v,onBlur:v,"aria-label":y?__("Delete style","web-stories"):x},(()=>{const o=e.backgroundTextMode===s.HIGHLIGHT,r=e.backgroundTextMode===s.FILL;return t.createElement(d,{styles:p(e,!0),background:r?e.backgroundColor:null},o?t.createElement(c,{background:e.backgroundColor},I):I)})(),y&&t.createElement(r.Cross,null),!y&&h&&f)}export{StyleItem as default};
