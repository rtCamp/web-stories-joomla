/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import*as r from"@ap.cx/hues";function o(o){const{r:t,g:n,b:e,a:a=1}=o;return r.relativeLuminance({r:t/255,g:n/255,b:e/255,a:a})}function t(o){const t=r.str2rgba(o);return r.relativeLuminance(t)}function n(o,t,n){const e=r.contrast(o,t);return{ratio:e,WCAG_AA:r.aa(e,n)}}function e(r,t,e){return n(o({r:r[0],g:r[1],b:r[2]}),o({r:t[0],g:t[1],b:t[2]}),e)}function a(r,o){const t=[255,255,255,255],n=[0,0,0,255],a=[],c={r:255,g:255,b:255,a:1},u={r:0,g:0,b:0,a:1};for(let o=0;o<r.length;o+=4)a.push([r[o],r[o+1],r[o+2],r[o+3]]);const i=a.map((r=>e(n,r,o)));if(!i.some((r=>{let{WCAG_AA:o}=r;return!o})))return{color:u};const s=a.map((r=>e(t,r,o)));if(!s.some((r=>{let{WCAG_AA:o}=r;return!o})))return{color:c};return i.reduce(((r,o)=>r+o.ratio),0)<s.reduce(((r,o)=>r+o.ratio),0)?{color:u,backgroundColor:{...c,a:.7}}:{color:c,backgroundColor:{...u,a:.7}}}export{o as calculateLuminanceFromRGB,t as calculateLuminanceFromStyleColor,n as checkContrastFromLuminances,a as getAccessibleTextColorsFromPixels};
