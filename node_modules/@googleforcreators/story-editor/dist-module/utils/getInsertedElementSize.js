/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import{DEFAULT_DPR as t,PAGE_WIDTH as e,PAGE_HEIGHT as o,dataPixels as n}from"@googleforcreators/units";import{getDefinitionForType as r}from"@googleforcreators/elements";const i=[1,0];function h(t){return"number"==typeof t}function u(u,f,l,s){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,m=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;const{updateForResizeEvent:g,defaultAttributes:c}=r(u);if(h(f)||(f=h(l)?l*a:m?Math.min(m.width*t,.8*e):e/2),!h(l)&&g&&(l=g({...c,...s},i,f).height),h(l)||(l=f/a),f>e||l>o){const t=f/l;t<=e/o?l=(f=Math.min(f,e))/t:f=(l=Math.min(l,o))*t}return{width:f=n(f),height:l=n(l)}}export{u as default};
