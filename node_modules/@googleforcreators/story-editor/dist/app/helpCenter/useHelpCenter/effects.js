/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../../../components/helpCenter/constants.js");const n=(e,n)=>n.navigationIndex<0;exports.composeEffects=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(n,i)=>e.reduce(((e,t)=>({...i,...e,...t(n,e)})),i)},exports.createDynamicNavigationFlow=(n,i)=>{if(!((e,n)=>e.navigationIndex<0&&n.navigationIndex>=0)(n,i))return{};const t=i.tipKeys.slice(0,i.navigationIndex).filter((e=>!i.readTips[e]));return{navigationFlow:[...i.tipKeys,...t,e.DONE_TIP_ENTRY[0]]}},exports.deriveAutoOpen=function(e,n){if("undefined"!=typeof WEB_STORIES_DISABLE_QUICK_TIPS&&"true"===WEB_STORIES_DISABLE_QUICK_TIPS)return{};if(((e,n)=>!e.isHydrated&&n.isHydrated)(e,n)){return e.unreadTipsCount<n.unreadTipsCount?{isOpen:!0}:{}}return{}},exports.deriveBottomNavigation=(e,i)=>({hasBottomNavigation:!n(0,i)}),exports.deriveDisabledButtons=(e,n)=>({isPrevDisabled:n.navigationIndex<=0,isNextDisabled:n.navigationIndex>=n.navigationFlow?.length-1}),exports.deriveInitialOpen=function(e){return"undefined"!=typeof WEB_STORIES_DISABLE_QUICK_TIPS&&"true"===WEB_STORIES_DISABLE_QUICK_TIPS?{}:Boolean(e?.unreadTipsCount)&&void 0!==e?.isOpen?{isOpen:e?.isOpen}:{}},exports.deriveInitialUnreadTipsCount=function(e){return e?.unreadTipsCount?{unreadTipsCount:e?.unreadTipsCount}:{}},exports.deriveReadTip=(e,i)=>{const t=!n(0,i)&&((e,n)=>(n.navigationFlow||[]).filter((e=>n.tipKeys.includes(e))))(0,i)?.[i.navigationIndex];return{readTips:t?{...i.readTips,[t]:!0}:i.readTips}},exports.deriveTransitionDirection=(e,i)=>({isLeftToRightTransition:!n(0,i)&&i.navigationIndex-e.navigationIndex>0}),exports.deriveUnreadTipsCount=function(e,n){return{unreadTipsCount:n.tipKeys.filter((e=>!n.readTips[e]))?.length||0}},exports.resetIsOpeningToTip=function(e,n){return{isOpeningToTip:n.isOpeningToTip&&!e.isOpeningToTip}},exports.resetNavigationIndexOnOpen=(e,n)=>{const i=!e.isOpen&&n.isOpen,t=!e.isOpeningToTip&&n.isOpeningToTip;return{navigationIndex:i&&!t?-1:n.navigationIndex}};
