/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

"use strict";var e=require("@googleforcreators/react"),t=require("./local/reducer.js"),o=require("./media3p/reducer.js"),r=require("./local/actions.js"),i=require("./media3p/actions.js"),a=require("./types.js");function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{type:r,payload:i}=arguments.length>1?arguments[1]:void 0;return{local:t(e.local,{type:r,payload:i}),media3p:o(e.media3p,{type:r,payload:i})}}const s=(e,t)=>{if(e instanceof Function)return e(t);const o=e;return Object.keys(o).reduce(((e,r)=>({...e,[r]:s(o[r],t)})),{})};module.exports=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,o=arguments.length>1?arguments[1]:void 0;const n=e.useMemo((()=>({local:r,media3p:i})),[]);o=o??n;const u=e.useMemo((()=>t(void 0,{type:a.INITIAL_STATE})),[t]),[l,d]=e.useReducer(t,u),p=e.useMemo((()=>s(o,d)),[o]);return{state:l,actions:p}};
