/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

"use strict";var e=require("@googleforcreators/design-system"),t=require("@googleforcreators/react");module.exports=function KeyBindings(r){let{uuid:n,node:o,activeFocusGroup:u,exitCurrentFocusGroup:s}=r;const c=t.useCallback((e=>{e.preventDefault();const t=function(e,t){return function(r){if(!t)return;const n=t.findIndex((t=>t[0]===e));if(-1===n)return;const o=((n+r)%(u=t.length)+u)%u;var u;const[,s]=t[o];s?.focus()}}(n,u);e.shiftKey?t(-1):t(1)}),[u,n]),l=t.useCallback((e=>{e.preventDefault(),s()}),[s]);return e.useKeyDownEffect(o,{key:["tab"],allowDefault:!0,editable:!0,shift:!0},c,[c]),e.useKeyDownEffect(o,{key:["esc"],allowDefault:!0,editable:!0},l,[l]),null};
