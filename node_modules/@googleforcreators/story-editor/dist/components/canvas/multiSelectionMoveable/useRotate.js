/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

"use strict";var t=require("@googleforcreators/design-system"),e=require("../utils/normalizeRotationDegrees.js");module.exports=function(r){let{onGroupEventStart:o,setTransformStyle:s,onGroupEventEnd:a,targetList:n,frames:l}=r;return{onRotateGroup:t=>{let{events:r}=t;r.forEach(((t,r)=>{let{target:o,beforeRotate:a,drag:i}=t;const u=l[r],{element:g}=n[r];u.rotate=e(a),u.translate=i.beforeTranslate,s(g.id,o,u)}))},onRotateGroupEnd:t=>{let{targets:e}=t;a({targets:e,isRotate:!0})},onRotateGroupStart:t=>{let{events:e}=t;o({events:e,isRotate:!0})},throttleRotate:t.useGlobalIsKeyPressed("shift")?30:0}};
