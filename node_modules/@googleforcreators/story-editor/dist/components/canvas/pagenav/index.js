/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

"use strict";var e=require("react"),r=require("styled-components");require("prop-types");var t=require("@googleforcreators/react"),o=require("@googleforcreators/i18n"),a=require("@googleforcreators/design-system");require("@googleforcreators/transform"),require("../../dropTargets/provider.js"),require("../../dropTargets/context.js"),require("../../../app/history/historyProvider.js"),require("../../../app/history/context.js"),require("@googleforcreators/templates"),require("../../../app/config/context.js");var s=require("../../../app/config/useConfig.js");require("../../../app/api/context.js"),require("@googleforcreators/fonts"),require("@googleforcreators/dom"),require("../../../constants/fonts.js"),require("../../../constants/multipleValue.js");var i=require("../../../constants/performanceTrackingEvents.js");require("../../../app/font/context.js"),require("@googleforcreators/media"),require("@googleforcreators/tracking"),require("@googleforcreators/animation"),require("uuid"),require("@googleforcreators/masks"),require("@googleforcreators/element-library"),require("@googleforcreators/elements"),require("../../../app/story/context.js"),require("@googleforcreators/migration"),require("../../../app/story/actions/useSaveStory.js"),require("clone-deep"),require("../../../app/story/useStoryReducer/useStoryReducer.js"),require("@googleforcreators/output"),require("../../../app/story/storyTriggers/storyTriggersProvider.js"),require("../../../app/story/storyTriggers/storyEvents/onInitialElementAddedRegister.js"),require("../../../app/story/storyTriggers/storyEvents/onPageAddedRegister.js");var u=require("../../../app/story/useStory.js");require("../../../app/media/useUploadMedia.js"),require("@googleforcreators/patterns"),require("../../../utils/generateBlurhash.worker.js"),require("../../../app/media/media3p/providerConfiguration.js"),require("../../../app/media/utils/useFFmpeg.js"),require("../../../app/media/media3p/api/context.js"),require("../../../app/media/local/constants.js"),require("../../../app/media/media3p/providerReducer.js"),require("../../../app/media/context.js"),require("sat"),require("@googleforcreators/units");var n=require("../../../app/layout/useLayout.js");require("../../../app/layout/context.js"),require("../../../app/layout/useZoomSetting.js"),require("@googleforcreators/rich-text"),require("@googleforcreators/stickers"),require("../../library/panes/text/textPresets.js"),require("../../../app/canvas/context.js"),require("../../../app/currentUser/context.js"),require("../../../app/helpCenter/provider.js"),require("../../../app/helpCenter/context.js"),require("../../helpCenter/constants.js"),require("../../../app/rightClickMenu/context.js");var p=require("../../../utils/usePerformanceTracking.js");function g(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=g(e),l=g(r);const q=l.default.div.withConfig({displayName:"pagenav__Wrapper",componentId:"sc-j8q0gt-0"})(["display:flex;align-items:center;color:",";& > *{pointer-events:initial;}"],(e=>{let{theme:r}=e;return r.colors.fg.white})),d=l.default(a.Icons.ArrowLeftLarge).withConfig({displayName:"pagenav__FlippableArrow",componentId:"sc-j8q0gt-1"})(["transform:rotate(","turn);"],(e=>{let{$isLeft:r}=e;return r?0:.5}));module.exports=function PageNav(e){let{isNext:r=!0}=e;const{pages:g,currentPageIndex:l,setCurrentPage:f}=u((e=>{let{state:{pages:r,currentPageIndex:t},actions:{setCurrentPage:o}}=e;return{pages:r,currentPageIndex:t,setCurrentPage:o}})),{isRTL:j}=s(),m=t.useRef(null),y=t.useCallback((e=>e.stopPropagation()),[]),v=t.useCallback((()=>{const e=r?g[l+1]:g[l-1];e&&f({pageId:e.id})}),[f,l,r,g]),{hasPageNavigation:x}=n((e=>{let{state:{hasPageNavigation:r}}=e;return{hasPageNavigation:r}}));if(p({node:m.current,eventData:i.TRACKING_EVENTS.PAGE_NAVIGATION}),!x)return!1;const T=r&&l<g.length-1||!r&&l>0,P=j===r;return c.default.createElement(q,null,c.default.createElement(a.Button,{ref:m,variant:a.BUTTON_VARIANTS.SQUARE,type:a.BUTTON_TYPES.TERTIARY,size:a.BUTTON_SIZES.MEDIUM,"aria-disabled":!T,"aria-label":r?o.__("Next Page","web-stories"):o.__("Previous Page","web-stories"),onClick:v,onMouseDown:y},c.default.createElement(d,{$isLeft:P})))};
