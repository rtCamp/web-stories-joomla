/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("@googleforcreators/react");require("prop-types");var r=require("../constants.js");function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=o(e);const n=t.createContext(null),u=t.createContext(null),i={[r.ISSUE_TYPES.PRIORITY]:{},[r.ISSUE_TYPES.DESIGN]:{},[r.ISSUE_TYPES.ACCESSIBILITY]:{}};exports.CategoryContext=u,exports.ChecklistCategoryProvider=function ChecklistCategoryProvider(e){let{children:r,category:o}=e;const i=t.useContext(n)?.[1];if(!i)throw new Error("Cannot use `ChecklistCategoryProvider` outside of `ChecklistCountProvider`");const c=t.useCallback((e=>i((t=>({...t,[o]:{...t[o],...e}})))),[o,i]);return s.default.createElement(u.Provider,{value:c},r)},exports.ChecklistCountProvider=function ChecklistCountProvider(e){let{hasChecklist:r,children:o}=e;const u=t.useState({...i,hasChecklist:r});return s.default.createElement(n.Provider,{value:u},o)},exports.CountContext=n,exports.useCategoryCount=function(e){const r=t.useContext(n)?.[0];if(!r)throw new Error("Cannot use `useCategoryCount` outside of `ChecklistCountProvider`");return Object.values(r[e]||{}).filter((e=>e)).length},exports.useHasChecklist=function(){const e=t.useContext(n)?.[0];if(!e)throw new Error("Cannot use `useHasChecklist` outside of `ChecklistCountProvider`");const{hasChecklist:r}=e;return r},exports.useIsChecklistEmpty=function(){const e=t.useContext(n)?.[0];if(!e)throw new Error("Cannot use `useIsChecklistEmpty` outside of `ChecklistCountProvider`");return Object.values(e).map((e=>Object.values(e))).flatMap((e=>e)).filter((e=>e)).length>0},exports.useRegisterCheck=function(e,r){const o=t.useContext(u);if(!o)throw new Error("Cannot use `useRegisterCheck` outside of `ChecklistCategoryProvider`");t.useEffect((()=>o({[e]:r})),[e,o,r])};
