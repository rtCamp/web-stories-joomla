/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

"use strict";var e=require("react"),t=require("@googleforcreators/react"),o=require("prop-types"),r=require("styled-components"),i=require("@googleforcreators/i18n"),n=require("@googleforcreators/patterns"),a=require("@googleforcreators/design-system"),l=require("./constants.js");function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var d=s(e),c=s(o),p=s(r);const u=p.default.button.attrs((e=>{let{position:t}=e;return{style:{right:t*l.LINE_LENGTH-l.LINE_WIDTH/2+"px"}}})).withConfig({displayName:"gradientStop__Stop",componentId:"sc-1kqiqwc-0"})(["position:absolute;top:-","px;background:transparent;border:0;padding:0;&:focus{outline:none;}"],10+l.GRADIENT_STOP_SIZE),f=r.css(["position:absolute;left:0;top:0;width:100%;height:100%;"]),g=p.default.div.withConfig({displayName:"gradientStop__Background",componentId:"sc-1kqiqwc-1"})([""," ",""],f,(e=>{let{color:t}=e;return n.generatePatternStyles(t)})),m=p.default.div.withConfig({displayName:"gradientStop__Transparent",componentId:"sc-1kqiqwc-2"})([""," width:100%;height:100%;position:absolute;top:0;"],a.themeHelpers.transparentBg),h=p.default.div.withConfig({displayName:"gradientStop__StopPointer",componentId:"sc-1kqiqwc-3"})(["transform:translate(",",0);width:","px;height:","px;border-radius:2px;overflow:hidden;"],(e=>{let{offset:t}=e;return`${t}px`}),l.GRADIENT_STOP_SIZE,l.GRADIENT_STOP_SIZE),q=p.default.div.withConfig({displayName:"gradientStop__IconWrapper",componentId:"sc-1kqiqwc-4"})(["position:absolute;left:-","px;top:-8px;color:",";svg{width:32px;height:32px;}"],10,(e=>{let{theme:t,isSelected:o}=e;return o?t.colors.fg.primary:t.colors.fg.tertiary}));const S=t.forwardRef((function GradientStopWithRef(e,t){let{position:o,index:r,isSelected:n,color:l,onSelect:s}=e;return d.default.createElement(u,{ref:t,key:r,isSelected:n,position:o,onFocus:()=>s(r),onClick:()=>s(r),"aria-label":i.sprintf(
/* translators: %d: stop percentage */
i.__("Gradient stop at %d%%","web-stories"),Math.round(100-100*o))},d.default.createElement(q,{isSelected:n},d.default.createElement(a.Icons.TailedRectangle,null)),d.default.createElement(h,{offset:-1},d.default.createElement(m,null),d.default.createElement(g,{color:l})))}));S.propTypes={position:c.default.number.isRequired,index:c.default.number.isRequired,isSelected:c.default.bool.isRequired,color:c.default.object.isRequired,onSelect:c.default.func.isRequired},module.exports=S;
