/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

"use strict";var t=require("@googleforcreators/patterns"),r=require("./constants.js");function e(r){return r.map((r=>{let{color:{r:e,g:o,b:n,a:s},position:a}=r;return{color:t.createSolid(e,o,n,s).color,position:a}}))}module.exports=function(o){const{regenerate:n,type:s}=o;if(!n)return null;switch(s){case r.TYPE_SOLID:return function(r){let{currentColor:{r:e,g:o,b:n,a:s}}=r;return t.createSolid(e,o,n,s)}(o);case r.TYPE_LINEAR:return function(t){let{stops:o,rotation:n,alpha:s}=t;const a={type:r.TYPE_LINEAR,stops:e(o)};return 0!==n&&(a.rotation=n),1!==s&&void 0!==s&&(a.alpha=s),a}(o);case r.TYPE_RADIAL:return function(t){let{stops:o,center:n,size:s,alpha:a}=t;const c={type:r.TYPE_RADIAL,stops:e(o)};return!n||.5===n.x&&.5===n.y||(c.center=n),!s||1===s.w&&1===s.h||(c.size=s),1!==a&&void 0!==a&&(c.alpha=a),c}(o);default:return null}};
