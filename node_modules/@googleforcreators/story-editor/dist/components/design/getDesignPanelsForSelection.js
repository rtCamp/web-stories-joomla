/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

"use strict";var e=require("@googleforcreators/design-system"),n=require("@googleforcreators/elements"),s=require("../panels/design/animation/animation.js"),a=require("../panels/design/border/border.js"),r=require("../panels/design/captions/captions.js"),l=require("../panels/design/alignment/alignment.js"),t=require("../panels/design/filter/filter.js"),p=require("../panels/design/imageAccessibility/imageAccessibility.js");require("../panels/design/layer/layerPanel.js");var i=require("../panels/design/link/link.js"),u=require("../panels/design/pageAttachment/pageAttachment.js"),y=require("../panels/design/pageBackground/pageBackground.js"),P=require("../panels/design/shapeStyle/shapeStyle.js"),T=require("../panels/design/sizePosition/sizePosition.js"),c=require("../panels/design/textStyle/textStyle.js"),d=require("../panels/design/videoAccessibility/videoAccessibility.js"),o=require("../panels/design/videoOptions/videoOptions.js"),g=require("../panels/design/pageBackgroundAudio/backgroundAudio.js"),A=require("../panels/design/product/product.js");const I=Object.values(e.PanelTypes);module.exports=function(E){if(0===E.length)return[];if(1===E.length&&E[0].isBackground){const n=[];return!E[0].isDefaultBackground&&(n.push({type:e.PanelTypes.PAGE_BACKGROUND,Panel:y}),n.push({type:e.PanelTypes.FILTER,Panel:t}),n.push({type:e.PanelTypes.ANIMATION,Panel:s})),"video"===E[0].type?(n.push({type:e.PanelTypes.VIDEO_OPTIONS,Panel:o}),n.push({type:e.PanelTypes.CAPTIONS,Panel:r.default}),n.push({type:e.PanelTypes.VIDEO_ACCESSIBILITY,Panel:d.default})):["gif","image"].includes(E[0].type)?n.push({type:e.PanelTypes.IMAGE_ACCESSIBILITY,Panel:p}):n.unshift({type:e.PanelTypes.PAGE_BACKGROUND,Panel:y}),n.push({type:e.PanelTypes.PAGE_ATTACHMENT,Panel:u}),n.push({type:e.PanelTypes.PAGE_BACKGROUND_AUDIO,Panel:g}),n}return E.map((e=>{let{type:s}=e;return n.elementTypes[s].panels})).reduce(((e,n)=>{return s=n,e.filter((e=>s.includes(e)));var s}),I).map((n=>{switch(n){case e.PanelTypes.ANIMATION:return{type:n,Panel:s};case e.PanelTypes.PAGE_BACKGROUND:return null;case e.PanelTypes.FILTER:return{type:n,Panel:t};case e.PanelTypes.SIZE_POSITION:return{type:n,Panel:T};case e.PanelTypes.LINK:return{type:n,Panel:i};case e.PanelTypes.TEXT_STYLE:return{type:n,Panel:c};case e.PanelTypes.SHAPE_STYLE:return{type:n,Panel:P};case e.PanelTypes.BORDER:return{type:n,Panel:a};case e.PanelTypes.VIDEO_OPTIONS:return{type:n,Panel:o};case e.PanelTypes.CAPTIONS:return{type:n,Panel:r.default};case e.PanelTypes.VIDEO_ACCESSIBILITY:return{type:n,Panel:d.default};case e.PanelTypes.IMAGE_ACCESSIBILITY:return{type:n,Panel:p};case e.PanelTypes.ELEMENT_ALIGNMENT:return{type:n,Panel:l};case e.PanelTypes.PRODUCT:return{type:n,Panel:A};default:throw new Error(`Unknown panel: ${n}`)}})).filter((e=>e))};
