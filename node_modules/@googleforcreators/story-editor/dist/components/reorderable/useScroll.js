/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

"use strict";var t=require("@googleforcreators/react");module.exports=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"horizontal",l=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const[c,n]=t.useState(!1),[s,i]=t.useState(!1),[a,u]=t.useState(0),h=t.useBatchingCallback((()=>{const t=o.current;if(t)if("horizontal"===e){const e=t.scrollWidth-t.clientWidth;e<=0?(n(!1),i(!1)):(n(t.scrollLeft>0),i(t.scrollLeft<e))}else{const e=t.scrollHeight-t.clientHeight;e<=0?(n(!1),i(!1)):(n(t.scrollTop>0),i(t.scrollTop<e))}}),[e,o]),f=t.useCallback((t=>(u(t),()=>u(0))),[u]),d=l&&c,g=l&&s;return t.useEffect((()=>{if(0===a||!(d&&a<0||g&&a>0))return;let t=!0;const l=()=>{const c=Math.max(Math.min(.2*r,10),0);"horizontal"===e?o.current.scrollLeft+=a*c:o.current.scrollTop+=a*c,h(),t&&window.requestAnimationFrame(l)};return l(),()=>{t=!1}}),[a,h,d,g,r,e,o]),t.useEffect((()=>h()),[l,h]),{startScroll:f,canScrollEnd:g,canScrollStart:d}};
