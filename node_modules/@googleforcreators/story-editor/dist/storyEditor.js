/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

"use strict";var e=require("react"),r=require("styled-components"),t=require("stylis-plugin-rtl");require("prop-types");var a=require("@googleforcreators/design-system"),l=require("flagged"),o=require("@googleforcreators/transform"),n=require("@googleforcreators/moveable"),i=require("./theme.js"),u=require("./components/errorBoundary/index.js"),s=require("./app/config/configProvider.js");require("./app/config/context.js"),require("@googleforcreators/react");var p=require("./app/api/apiProvider.js");require("./app/api/context.js");var d=require("./app/media/media3p/api/media3pApiProvider.js");require("./app/media/media3p/api/context.js");var c=require("./app/history/historyProvider.js");require("./app/history/context.js"),require("./constants/fonts.js"),require("./constants/multipleValue.js"),require("@googleforcreators/animation"),require("uuid"),require("@googleforcreators/masks"),require("@googleforcreators/element-library"),require("@googleforcreators/elements");var f=require("./app/story/storyProvider.js");require("./app/story/context.js"),require("./app/story/storyTriggers/storyTriggersProvider.js"),require("./app/story/storyTriggers/storyEvents/onInitialElementAddedRegister.js"),require("./app/story/storyTriggers/storyEvents/onPageAddedRegister.js");var m=require("./app/font/fontProvider.js");require("./app/font/context.js");var g=require("./app/media/mediaProvider.js");require("./app/media/context.js");var q=require("./app/currentUser/currentUserProvider.js");require("./app/currentUser/context.js");var v=require("./app/taxonomy/taxonomyProvider.js");require("./app/taxonomy/context.js");var j=require("./components/autoSaveHandler/index.js"),y=require("./components/dropTargets/provider.js");require("./components/dropTargets/context.js");var E=require("./app/helpCenter/provider.js");require("./app/helpCenter/context.js"),require("./app/pageDataUrls/context.js");var P=require("./app/pageDataUrls/pageDataUrlsProvider.js"),x=require("./app/pageCanvas/pageCanvasProvider.js");require("./app/pageCanvas/context.js");var b=require("./components/devTools/devTools.js"),T=require("./components/form/dateTime/calendarStyle.js"),h=require("./utils/keyboardOnlyOutline.js"),S=require("./getDefaultConfig.js");function C(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var U=C(e),D=C(t);Object.defineProperty(D.default,"name",{value:"stylisRTLPlugin"}),module.exports=function StoryEditor(e){let{config:t,initialEdits:C,children:G}=e;const M=a.deepMerge(S(),t),{storyId:R,isRTL:k,flags:A}=M;return U.default.createElement(l.FlagsProvider,{features:A},U.default.createElement(r.StyleSheetManager,{stylisPlugins:k?[D.default]:[]},U.default.createElement(r.ThemeProvider,{theme:a.theme},U.default.createElement(u,null,U.default.createElement(s,{config:M},U.default.createElement(p,null,U.default.createElement(d,null,U.default.createElement(c,{size:50},U.default.createElement(a.SnackbarProvider,null,U.default.createElement(f,{storyId:R,initialEdits:C},U.default.createElement(v,null,U.default.createElement(q,null,U.default.createElement(m.default,null,U.default.createElement(g,null,U.default.createElement(j,null),U.default.createElement(o.TransformProvider,null,U.default.createElement(y,null,U.default.createElement(E.default,null,U.default.createElement(x,null,U.default.createElement(P,null,U.default.createElement(i.GlobalStyle,null),U.default.createElement(b,null),U.default.createElement(n.DefaultMoveableGlobalStyle,null),U.default.createElement(n.CropMoveableGlobalStyle,null),U.default.createElement(a.ModalGlobalStyle,null),U.default.createElement(T.GlobalStyle,null),U.default.createElement(h.default,null),G)))))))))))))))))))};
