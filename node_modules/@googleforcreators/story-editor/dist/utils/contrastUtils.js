/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

"use strict";function e(e){if(e&&e.__esModule)return e;var r=Object.create(null);return e&&Object.keys(e).forEach((function(t){if("default"!==t){var o=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,o.get?o:{enumerable:!0,get:function(){return e[t]}})}})),r.default=e,Object.freeze(r)}Object.defineProperty(exports,"__esModule",{value:!0});var r=e(require("@ap.cx/hues"));function t(e){const{r:t,g:o,b:n,a:c=1}=e;return r.relativeLuminance({r:t/255,g:o/255,b:n/255,a:c})}function o(e,t,o){const n=r.contrast(e,t);return{ratio:n,WCAG_AA:r.aa(n,o)}}function n(e,r,n){return o(t({r:e[0],g:e[1],b:e[2]}),t({r:r[0],g:r[1],b:r[2]}),n)}exports.calculateLuminanceFromRGB=t,exports.calculateLuminanceFromStyleColor=function(e){const t=r.str2rgba(e);return r.relativeLuminance(t)},exports.checkContrastFromLuminances=o,exports.getAccessibleTextColorsFromPixels=function(e,r){const t=[255,255,255,255],o=[0,0,0,255],c=[],u={r:255,g:255,b:255,a:1},a={r:0,g:0,b:0,a:1};for(let r=0;r<e.length;r+=4)c.push([e[r],e[r+1],e[r+2],e[r+3]]);const l=c.map((e=>n(o,e,r)));if(!l.some((e=>{let{WCAG_AA:r}=e;return!r})))return{color:a};const s=c.map((e=>n(t,e,r)));return s.some((e=>{let{WCAG_AA:r}=e;return!r}))?l.reduce(((e,r)=>e+r.ratio),0)<s.reduce(((e,r)=>e+r.ratio),0)?{color:a,backgroundColor:{...u,a:.7}}:{color:u,backgroundColor:{...a,a:.7}}:{color:u}};
