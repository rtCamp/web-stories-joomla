/**
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("./dimensions.js");function i(t,i,o,n,h){if(!t||0===t)return{x:i,y:o,width:n,height:h};const{topLeftPoint:a,topRightPoint:r,bottomRightPoint:x,bottomLeftPoint:s}=e(t,i,o,n,h),c=Math.min(a.x,r.x,x.x,s.x),d=Math.min(a.y,r.y,x.y,s.y);return{x:c,y:d,width:Math.max(a.x,r.x,x.x,s.x)-c,height:Math.max(a.y,r.y,x.y,s.y)-d}}function e(t,i,e,n,h){const a=i+.5*n,r=e+.5*h,x=t*Math.PI/180;return{topLeftPoint:o(a,r,i,e,x),topRightPoint:o(a,r,i+n,e,x),bottomRightPoint:o(a,r,i+n,e+h,x),bottomLeftPoint:o(a,r,i,e+h,x)}}function o(i,e,o,n,h){const a=o-i,r=n-e,x=Math.sqrt(a*a+r*r);h+=Math.atan2(r,a);return{x:t.dataPixels(i+x*Math.cos(h)),y:t.dataPixels(e+x*Math.sin(h))}}exports.calcRotatedObjectPositionAndSize=i,exports.default=function(t){const e=t.map((t=>i(t.rotationAngle,t.x,t.y,t.width,t.height))),o=e[0];let n=o.x,h=o.y,a=n+o.width,r=h+o.height;return e.slice(1).forEach((t=>{n=Math.min(t.x,n),h=Math.min(t.y,h),a=Math.max(t.x+t.width,a),r=Math.max(t.y+t.height,r)})),{startX:n,startY:h,endX:a,endY:r,width:a-n,height:r-h}},exports.getCorners=e;
